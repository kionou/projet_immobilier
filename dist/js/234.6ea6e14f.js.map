{"version":3,"file":"js/234.6ea6e14f.js","mappings":"8KAMA,MAAMA,GAAY,EAAG,SAAH,qBAEIC,MAAOC,EAAKC,KAE1B,IAAIC,EAAQD,EAAiBC,MACzBC,EAAWF,EAAiBE,SAEhC,OAAO,IAAIC,SAAQL,gBACbM,EAAAA,EAAAA,IAA+BC,EAAAA,GAAKJ,EAAMC,GAC3CI,MAAKR,WACFS,EAAAA,EAAAA,IAAcC,EAAKC,KAAK,CAACC,YAAa,gBAChCC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAIC,EAAAA,GAAiBL,EAAKC,KAAKK,KAAKf,GAChDO,MAAK,MACFS,EAAAA,EAAAA,IAAQV,EAAAA,IACRW,EAAK,CAACC,QAAQ,4BAAd,IAEHC,OAAOC,IACJC,QAAQC,IAAIF,EAAIG,QAAhB,GANJ,IAUHJ,OAAOC,IACJC,QAAQC,IAAIF,EAAII,MAChBP,EAAM,CAAEQ,OAAOL,EAAII,MAAnB,GAfR,GADA,KAPU,yBA8BMzB,UACpB,IAAIG,EAAQF,EAAKE,MACbC,EAAWH,EAAKG,SAEpB,OAAO,IAAIC,SAAQL,gBAEX2B,EAAAA,EAAAA,IAA2BpB,EAAAA,GAAKJ,EAAMC,GACzCI,MAAME,IAC0B,SAAzBA,EAAKC,KAAKC,cACVK,EAAAA,EAAAA,IAAQV,EAAAA,IACRW,EAAK,CAACU,MAAM,gDAGZC,EAAAA,EAAAA,GAAYtB,EAAAA,GAAAA,YAAkB,oBAChCW,EAAK,CAACC,QAAQT,IAEf,IAGJU,OAAOC,IAEJH,EAAM,CAAEQ,OAAOL,EAAII,OACnBH,QAAQC,IAAI,MAAMF,EAAII,KAAtB,GAhBP,GAFD,KAlCc,wBA0DOzB,WACrBiB,EAAAA,EAAAA,IAAQV,EAAAA,IACHC,MAAK,KACNc,QAAQC,IAAI,mBAAZ,IAECH,OAAOC,IACJC,QAAQC,IAAIF,EAAIG,QAAhB,GALR,KA3Dc,wBAqEMxB,gBAEb2B,EAAAA,EAAAA,IAA2BpB,EAAAA,GAAKJ,MAAMC,UAC5CI,MAAK,SAASsB,GACXA,EAAenB,KAAKkB,YAAY5B,EACnC,GAHD,IAvEc,GAkFlB,Q,kMCvFE8B,EAAAA,EAAAA,IAGM,aAFRC,EAAAA,EAAAA,IAAkBC,IAClBD,EAAAA,EAAAA,IAAsBE,I,4GCDXC,MAAM,e,GACFA,MAAM,a,UACPC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,SAAO,EACdC,EAAAA,EAAAA,GAA8C,OAAzCC,IAAAC,EAAkCC,IAAI,OAD/C,K,UAIAH,EAAAA,EAAAA,GAEM,OAFDD,MAAM,SAAO,EACdC,EAAAA,EAAAA,GAAkB,UAAd,eADR,K,8DAPVL,EAAAA,EAAAA,IAyBM,aAxBJK,EAAAA,EAAAA,GAuBM,MAvBN,EAuBM,EAtBFA,EAAAA,EAAAA,GAqBM,MArBN,EAqBM,CApBFI,EAIAC,GAGAL,EAAAA,EAAAA,GAEQ,cAAAM,EAAAA,EAAAA,IADJC,EAAAA,QAAM,IAEVP,EAAAA,EAAAA,GAQO,aAPaO,EAAAA,GAAGxC,MAAMyC,SAAAA,EAAAA,EAAAA,OAAtBb,EAAAA,EAAAA,IAAuE,QAAAc,GAAAH,EAAAA,EAAAA,IAAvCC,EAAAA,GAAGxC,MAAM2C,QAAO,GAAIC,UAAQ,KAA5D,gBAOA,SANHX,EAAAA,EAAAA,GAA6E,SAAtEY,KAAK,QAAQC,KAAK,QAAQC,YAAY,gB,qCAAyBP,EAAAA,MAAKQ,IAA3E,iBAAsER,EAAAA,SAEtDA,EAAAA,GAAGvC,SAASwC,SAAAA,EAAAA,EAAAA,OAAzBb,EAAAA,EAAAA,IAA6E,QAAAqB,GAAAV,EAAAA,EAAAA,IAA1CC,EAAAA,GAAGvC,SAAS0C,QAAO,GAAIC,UAAQ,KAAlE,gBAIA,SAHHX,EAAAA,EAAAA,GAAqF,SAA9EY,KAAK,WAAWC,KAAK,WAAWC,YAAY,e,qCAAwBP,EAAAA,SAAQQ,IAAnF,iBAA2ER,EAAAA,aAE3EP,EAAAA,EAAAA,GAAmD,UAAzCiB,QAAK,8BAAUC,EAAAA,QAAAA,EAAAA,UAAAA,IAAM,eAAE,oB,2CAYjD,GACIL,KAAK,sBACLM,OACI,MAAO,CACJpD,MAAM,GACNC,SAAS,GACToD,IAAGC,EAAAA,EAAAA,MACH/B,OAAO,GAGb,EACEgC,YAAa,CACTvD,MAAM,CACJwD,QADI,KAEHC,WAAUA,EAAAA,IAEdxD,SAAS,CACPuD,QADO,KAELE,OAAMA,EAAAA,EAAAA,IAAM,GACZC,OAAMA,EAAAA,EAAAA,IAAM,MAKtBC,QAAS,CACPC,cAAc/D,GACG,wBAATA,GACAqB,QAAQC,IAAI,aACZ0C,KAAKvC,OAAS,2BAGdJ,QAAQC,IAAI,SACZ0C,KAAKvC,OAAS,2CAGrB,EAED1B,eAKI,GAJAsB,QAAQC,IAAI,OACZD,QAAQC,IAAI,aAAa0C,KAAKT,GAAGV,QAAQoB,QAEzCD,KAAKT,GAAGW,SACsB,GAA1BF,KAAKT,GAAGV,QAAQoB,OAAc,CAEjC,IAAME,EAAS,CACRjE,MAAM8D,KAAK9D,MACXC,SAAS6D,KAAK7D,UAElBkB,QAAQC,IAAI6C,GACZ,IAAIzD,QAAaZ,EAAAA,EAAAA,aAA0BqE,GACvCzD,EAAKQ,SAELG,QAAQC,IAAIZ,EAAKQ,QAAQR,KAAKK,KAC9BiD,KAAKI,QAAQC,KAAM,UAAS3D,EAAKQ,QAAQR,KAAKK,QACvCL,EAAKiB,MACZqC,KAAKvC,OAASf,EAAKiB,MAGnBqC,KAAKD,cAAcrD,EAAKe,OAIhC,CACJ,I,QCzFR,MAAM6C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QFEA,GACItB,KAAK,aACLuB,WAAW,CACXC,gBADW,IAEXC,oBAAmBA,IGVvB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://projet_immobilier/./src/database/authAgent.js","webpack://projet_immobilier/./src/views/ViewClient/LoginAgent.vue","webpack://projet_immobilier/./src/components/ComponentClient/ComponentLoginAgent.vue","webpack://projet_immobilier/./src/components/ComponentClient/ComponentLoginAgent.vue?4b57","webpack://projet_immobilier/./src/views/ViewClient/LoginAgent.vue?3767"],"sourcesContent":["import { auth,agentcollection } from \"./Connect\";\nimport { doc, setDoc } from \"firebase/firestore\"; \nimport { createUserWithEmailAndPassword ,signInWithEmailAndPassword , signOut , updateProfile,onAuthStateChanged,updateEmail} from \"firebase/auth\";\n\n\n\nconst connectAgent = class{\n\n    static AddAgent  =async (into,authentification)=>{\n\n        let email = authentification.email;\n        let password = authentification.password\n\n        return new Promise(async (next)=>{\n        await createUserWithEmailAndPassword(auth,email,password)\n            .then(async (cred)=>{\n                updateProfile(cred.user,{displayName: 'agent'})\n                await setDoc(doc(agentcollection, cred.user.uid),into)\n                .then(()=>{\n                    signOut(auth)\n                    next({success:\"Enregistrer avec success\"}) \n                })\n                .catch((err)=>{\n                    console.log(err.message);\n                })\n                \n            })\n            .catch((err)=>{\n                console.log(err.code);\n                next ({ erreur:err.code})\n            })\n        \n            })\n    }\n\n\n  static Agentconnect  =async (into)=>{\n    let email = into.email;\n    let password = into.password\n\n    return new Promise(async (next)=>{\n\n     await  signInWithEmailAndPassword(auth,email,password)\n        .then((cred)=>{\n            if (cred.user.displayName != \"agent\") { \n                signOut(auth)\n                next({alert:\"Email ou le Mot de passe est incorrect !\"})\n                \n            } else {\n                updateEmail(auth.currentUser, \"user@example.com\")\n              next({success:cred})\n                \n            }\n\n        })\n        .catch((err)=>{\n\n            next ({ erreur:err.code})\n            console.log(\"eee\",err.code);\n        })\n         })\n   \n   }\n\n    static LogoutAgent  =async ()=>{\n    signOut(auth)\n        .then(()=>{\n        console.log(\"user deconnecter\");\n        })\n        .catch((err)=>{\n            console.log(err.message);\n        })\n\n   }\n\n   static updateAgent  =async (into)=>{\n    \n    await  signInWithEmailAndPassword(auth,email,password)\n    .then(function(userCredential) {\n        userCredential.user.updateEmail(into)\n    })\n\n   }\n\n}\n\n\n\nexport default connectAgent","<template>\n  <div>\n<ComponentNavbar/>\n<ComponentLoginAgent/>\n  </div>\n</template>\n\n<script>\n    import ComponentNavbar from '@/components/ComponentClient/ComponentNavbar.vue';\n    import ComponentLoginAgent from '@/components/ComponentClient/ComponentLoginAgent.vue';\n;\nexport default {\n    name:\"LoginAgent\",\n    components:{\n    ComponentNavbar,\n    ComponentLoginAgent,\n\n}\n\n}\n</script>\n\n<style>\n\n</style>","<template>\n    <div>\n      <div class=\"ImageHeader\">\n          <div class=\"container\">\n              <div class=\"image\">\n                  <img src=\"@/assets/images/logopng.png\" alt=\"\">\n              </div>\n           \n              <div class=\"texte\">\n                  <h2>CONNEXION</h2>\n              </div>\n              <small>\n                {{erreur}}\n              </small>\n              <form >\n                     <small v-if=\"v$.email.$error\">{{v$.email.$errors[0].$message}} </small>\n                  <input type=\"email\" name=\"email\" placeholder=\"Adresse Email\" v-model=\"email\">\n                  \n                     <small v-if=\"v$.password.$error\">{{v$.password.$errors[0].$message}} </small>    \n                  <input type=\"password\" name=\"password\" placeholder=\"Mot de passe\" v-model=\"password\">\n                  \n                  <button  @click.prevent=\"submit\">Connecter</button>\n              </form>\n             \n          </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n    import useVuelidate from '@vuelidate/core'\n    import {require, lgmin,lgmax,ValidEmail} from '@/functions/rules'\n    import connectAgent from '@/database/authAgent'\n  export default {\n      name:\"ComponentLoginAgent\",\n      data() {\n          return {\n             email:'',\n             password:'',\n             v$:useVuelidate(),\n             erreur:''\n              \n          }\n      },\n         validations: {\n             email:{\n               require,\n                ValidEmail\n            },\n            password:{\n              require,\n                lgmin:lgmin(6),\n                lgmax:lgmax(12)\n         \n                \n            },\n    },\n      methods: {\n        MessageErreur(into){\n            if (into === \"auth/wrong-password\") {\n                console.log('pazssword');\n                this.erreur = 'Mot de passe incorrect'\n                \n            } else {\n                console.log('email');\n                this.erreur = \"Email ou le Mot de passe est incorrect !\"\n            } \n\n        },\n\n        async  submit(){\n            console.log('rrr')\n            console.log('fsqjfblqkf',this.v$.$errors.length);\n            // this.v$.$validate()\n            this.v$.$touch()\n            if (this.v$.$errors.length == 0 ) {\n                // this.revele = !this.revele\n             let   DataUser={\n                    email:this.email,\n                    password:this.password\n                }\n                console.log(DataUser);\n                let user = await connectAgent.Agentconnect(DataUser)\n                if (user.success) {\n                 \n                    console.log(user.success.user.uid)\n                    this.$router.push(`/agent/${user.success.user.uid}`) \n                } else if (user.alert) {\n                    this.erreur = user.alert\n                    \n                }  else {\n                    this.MessageErreur(user.erreur)\n                    \n                }\n    \n            }\n        }\n        \n      },\n  \n  }\n  </script>\n  \n  <style lang=\"css\" scoped>\n  .ImageHeader {\n      background: url('@/assets/images/4.jpg') no-repeat center;\n      background-size: 100% 100%;\n      height: 100vh;\n      width: 100%;\n      text-align: center;\n      bottom: 0;\n      border-radius: 10px;\n      position: relative;\n  }\n  small{\n    color: #f8001b;\n  }\n  input {\n      margin-bottom: 2rem;\n      height: 3rem;\n      width: 20rem;\n      padding: 5px;\n      font-size: 18px;\n      outline: none;\n      border: 1px solid ;\n      font-family: 'Roboto Serif',\n      serif;\n  }\n  \n  input:focus {\n      border: 1px solid #2288ff;\n      outline-offset: 0px;\n      outline: none;\n  }\n  \n  \n  button{\n      width: 9rem;\n      height: 3rem;\n      margin-bottom: 10px;\n      text-align: center;\n      border: none;\n      background-color: #2288ff;\n      color: white;\n      border-radius: 5px;\n      font-size: 23px;\n      font-family: 'Roboto Serif',\n      serif;\n  }\n  button:hover{\n      background-color: white;\n      color: #2288ff;\n      border: 1px solid #2288ff;\n      cursor: pointer;\n  }\n  \n  \n  .container {\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      width: 370px;\n      height: 555px;\n      border: 1px solid #2288ff;\n      background-color: white;\n      border-radius: 5px;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      margin-right: auto;\n      margin-left: auto;\n  }\n  \n  \n  .image{\n      border: 1px solid #2288ff ; \n      width: 120px;\n      height: 120px;\n      border-radius: 50%;\n      margin: 15px 0;\n      /* background-color: aqua; */\n      display: flex;\n      justify-content: center;\n      align-items: center;\n  }\n  \n  .image img{\n      width:100px ;\n      height: 100px;\n      padding: 1px;\n  }\n  \n  .texte{\n      text-align: center;\n      padding: 10px;\n  }\n  \n  form{\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      padding: 18px;\n  }\n  \n  .sanp{\n      background-color: #2288ff;\n      color: white;\n      border-radius: 5px;\n      font-size: 16px;\n      font-family: 'Roboto Serif',\n      serif;\n      text-decoration: none;\n      padding: 5px;\n  }\n  .sanp:hover {\n      background-color: white;\n      color: #2288ff;\n      border: 1px solid #2288ff;\n      cursor: pointer;\n  }\n  \n  .validation{\n      color: #f8001b;\n  }\n  \n  @media  (max-width: 900px){\n      body{\n          width: 100%;\n  \n      }\n      form{\n          padding: 10px;\n      }\n  }\n  \n  @media (max-width: 768px) {\n      body {\n          width: 100%;\n  \n      }\n  \n      .texte{\n              font-size: 16px;\n      }\n  \n      form {\n          padding: 10px;\n          width: 90%;\n          height: 230px;\n          /* border: 1px solid red; */\n          align-items: center;\n          align-content: center;\n      }\n  \n      input{\n              height: 6rem;\n              width: 35rem;\n      }\n  \n      button{\n              width: 16rem;\n              height: 5rem;\n      }\n  }\n  \n  @media (max-width: 400px) {\n     .container{\n         width: 305px;\n         height: 529px;\n     }\n  \n     input{\n         width: 27rem;\n     }\n  }\n  \n  </style>","import { render } from \"./ComponentLoginAgent.vue?vue&type=template&id=441466b8&scoped=true\"\nimport script from \"./ComponentLoginAgent.vue?vue&type=script&lang=js\"\nexport * from \"./ComponentLoginAgent.vue?vue&type=script&lang=js\"\n\nimport \"./ComponentLoginAgent.vue?vue&type=style&index=0&id=441466b8&lang=css&scoped=true\"\n\nimport exportComponent from \"/Users/imac-07/Documents/projet_immobilier/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-441466b8\"]])\n\nexport default __exports__","import { render } from \"./LoginAgent.vue?vue&type=template&id=5ce1f0a4\"\nimport script from \"./LoginAgent.vue?vue&type=script&lang=js\"\nexport * from \"./LoginAgent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/imac-07/Documents/projet_immobilier/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["connectAgent","async","into","authentification","email","password","Promise","createUserWithEmailAndPassword","auth","then","updateProfile","cred","user","displayName","setDoc","doc","agentcollection","uid","signOut","next","success","catch","err","console","log","message","code","erreur","signInWithEmailAndPassword","alert","updateEmail","userCredential","_createElementBlock","_createVNode","_component_ComponentNavbar","_component_ComponentLoginAgent","class","_createElementVNode","src","_imports_0","alt","_hoisted_3","_hoisted_4","_toDisplayString","$data","$error","_hoisted_5","$errors","$message","type","name","placeholder","$event","_hoisted_6","onClick","$options","data","v$","useVuelidate","validations","require","ValidEmail","lgmin","lgmax","methods","MessageErreur","this","length","$touch","DataUser","$router","push","__exports__","components","ComponentNavbar","ComponentLoginAgent","render"],"sourceRoot":""}