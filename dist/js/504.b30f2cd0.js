"use strict";(self["webpackChunkprojet_immobilier"]=self["webpackChunkprojet_immobilier"]||[]).push([[504],{8418:function(e,n,s){var t,l=s(2482),o=(s(7658),s(125)),i=s(6035);const a=(t=class{},(0,l.Z)(t,"InsertionAgent",(e=>(console.log("sqfQSD",{...e}),new Promise((async n=>{await(0,i.ET)(o.mk,e).then((e=>{console.log("ss",e),n({success:e})})).catch((e=>{console.log("eee",e),n({erreur:e})}))}))))),(0,l.Z)(t,"AfficherAgent",(()=>{let e=[];return new Promise((async n=>{await(0,i.PL)(o.mk).then((s=>{s.docs.length>0?s.forEach((s=>{let t=s.data();t.id=s.id,e.push(t),console.log("ssss",e),n({success:e})})):n({alert:"Aucun Agent inscri pour le moment !"})})).catch((e=>{console.log("eee",e),n({erreur:e})}))}))})),(0,l.Z)(t,"GetAgnetId",(e=>new Promise((async n=>{const s=(0,i.JU)(o.mk,e);await(0,i.QT)(s).then((e=>{console.log("ss",e.data()),n({success:e.data()})})).catch((e=>{console.log("eee",e),n({erreur:e})}))})))),(0,l.Z)(t,"DeleteAgent",(e=>(console.log("sqfQSD",e),new Promise((async n=>{await(0,i.oe)((0,i.JU)(o.mk,e)).then((e=>{console.log("ss",e),n({success:"supprimer avec success"})})).catch((e=>{console.log("eee",e),n({erreur:e})}))}))))),(0,l.Z)(t,"UpdateAgent",((e,n)=>(console.log("sqfQSD",e,n.image),console.log("sqfQdgsgsgSD",n.image),new Promise((async s=>{if(""===n.image){console.log("besion de image");const t=(0,i.JU)(o.mk,e);await(0,i.QT)(t).then((t=>{let l=t.data().image;n.image=l;const a=(0,i.JU)(o.mk,e);(0,i.pl)(a,n,{merge:!0}),console.log((0,i.pl)(a,n,{merge:!0})),s({success:t.data()})})).catch((e=>{console.log("eee",e),s({erreur:e})}))}else{const t=(0,i.JU)(o.mk,e);(0,i.pl)(t,n,{merge:!0}).then((e=>{console.log("ss",e),s({success:"reussis"})})).catch((e=>{console.log("eee",e),s({erreur:e})}))}}))))),t);n["Z"]=a},5350:function(e,n,s){s.d(n,{Z:function(){return D}});var t=s(3396),l=s(9242);const o=e=>((0,t.dD)("data-v-320c017c"),e=e(),(0,t.Cn)(),e),i={class:"modal"},a=o((()=>(0,t._)("h1",null,"Enregistrement des biens immobiliers",-1))),c={class:"form_groupe"},r={class:"form_groupe"},d={class:"form_groupe"},u={class:"form_groupe"},p={class:"textArea"},m={class:"textArea"},_={class:"custom-file-upload"},g=o((()=>(0,t._)("i",{class:"fa fa-cloud-upload"},null,-1))),h=(0,t.Uk)(" Téléchargement personnalisé "),v={class:"boutton"};function b(e,n,s,o,b,f){return(0,t.wg)(),(0,t.iD)("div",null,[s.revele?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"modal-container",id:"modal",onClick:n[13]||(n[13]=(0,l.iM)(((...e)=>s.submit&&s.submit(...e)),["self"]))},[(0,t._)("div",i,[a,(0,t._)("form",null,[(0,t._)("div",c,[(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Non du bien","onUpdate:modelValue":n[0]||(n[0]=e=>b.nom_bien=e)},null,512),[[l.nr,b.nom_bien]]),(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Prix du bien","onUpdate:modelValue":n[1]||(n[1]=e=>b.prix=e)},null,512),[[l.nr,b.prix]])]),(0,t._)("div",r,[(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Nombre de pieces","onUpdate:modelValue":n[2]||(n[2]=e=>b.piece=e)},null,512),[[l.nr,b.piece]]),(0,t.wy)((0,t._)("input",{type:"text",placeholder:"superficie","onUpdate:modelValue":n[3]||(n[3]=e=>b.superficie=e)},null,512),[[l.nr,b.superficie]])]),(0,t._)("div",d,[(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Nombre de chambre","onUpdate:modelValue":n[4]||(n[4]=e=>b.chambre=e)},null,512),[[l.nr,b.chambre]]),(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Nombre de douche","onUpdate:modelValue":n[5]||(n[5]=e=>b.douche=e)},null,512),[[l.nr,b.douche]])]),(0,t._)("div",u,[(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Ville ","onUpdate:modelValue":n[6]||(n[6]=e=>b.ville=e)},null,512),[[l.nr,b.ville]]),(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Commune","onUpdate:modelValue":n[7]||(n[7]=e=>b.commune=e)},null,512),[[l.nr,b.commune]])]),(0,t._)("div",p,[(0,t.wy)((0,t._)("textarea",{name:"",id:"",cols:"71",rows:"4",placeholder:"Description","onUpdate:modelValue":n[8]||(n[8]=e=>b.description=e)},null,512),[[l.nr,b.description]])]),(0,t._)("div",m,[(0,t.wy)((0,t._)("textarea",{name:"",id:"",cols:"71",rows:"4",placeholder:"service","onUpdate:modelValue":n[9]||(n[9]=e=>b.service=e)},null,512),[[l.nr,b.service]])]),(0,t.wy)((0,t._)("input",{type:"hidden","onUpdate:modelValue":n[10]||(n[10]=n=>e.user_id=n)},null,512),[[l.nr,e.user_id]]),(0,t._)("label",_,[(0,t._)("input",{type:"file",onChange:n[11]||(n[11]=(...e)=>f.upload&&f.upload(...e)),multiple:""},null,32),g,h]),(0,t._)("div",v,[(0,t._)("button",{onClick:n[12]||(n[12]=(0,l.iM)(((...e)=>f.valider&&f.valider(...e)),["prevent"]))},"Ajouter un bien")])])])])):(0,t.kq)("",!0)])}s(7658);var f=s(1602),w=s(125),y=s(1992),k={name:"ModalBien",props:["revele","submit","agentId"],data(){return{nom_bien:"",prix:"",piece:"",superficie:"",chambre:"",douche:"",ville:"",commune:"",description:"",service:"",image:""}},methods:{async valider(){let e={nom_bien:this.nom_bien,prix:this.prix,piece:this.piece,superficie:this.superficie,chambre:this.chambre,douche:this.douche,ville:this.ville,commune:this.commune,description:this.description,service:this.service,images:this.image,user_id:this.agentId,status:!1};console.log(e);let n=await f.Z.InsertionBien(e);n.success?this.$router.push("/"):console.log("error 404")},async upload(e){const n=[];Object.values(e.target.files).forEach((e=>{console.log(e.name);const s=e,t={contentType:"image/jpeg"},l=(0,y.iH)(w.tO,"temp/"+s.name);n.push((0,y.KV)(l,s,t).then((e=>(0,y.Jt)(e.ref))))}));const s=await Promise.all(n);this.image=s,console.log(this.image)}}},x=s(89);const C=(0,x.Z)(k,[["render",b],["__scopeId","data-v-320c017c"]]);var D=C},7504:function(e,n,s){s.r(n),s.d(n,{default:function(){return _e}});var t=s(3396);function l(e,n,s,l,o,i){const a=(0,t.up)("ComponentAgent");return(0,t.wg)(),(0,t.j4)(a,{id:s.id},null,8,["id"])}var o=s(9202);const i=e=>((0,t.dD)("data-v-713eeadd"),e=e(),(0,t.Cn)(),e),a={class:"container"},c={class:"menu"},r=i((()=>(0,t._)("div",{class:"image"},[(0,t._)("img",{src:o,alt:""})],-1))),d={class:"content"},u=i((()=>(0,t._)("div",{class:"search"},[(0,t._)("form",{action:""},[(0,t._)("input",{type:"text",placeholder:"Recherchez"})]),(0,t._)("div",{class:"btn"},[(0,t._)("p",null,"Deconnecter")])],-1)));function p(e,n,s,l,o,i){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",a,[(0,t._)("div",c,[r,(0,t._)("nav",null,[(0,t._)("p",{onClick:n[0]||(n[0]=e=>o.component="bien")},"Liste des Biens"),(0,t._)("p",{onClick:n[1]||(n[1]=e=>o.component="profil")},"Mon profil")])]),(0,t._)("div",d,[u,((0,t.wg)(),(0,t.j4)((0,t.LL)(o.component),{id:s.id},null,8,["id"]))])])])}var m=s(7139);const _=e=>((0,t.dD)("data-v-5f32e065"),e=e(),(0,t.Cn)(),e),g={class:"contenu1"},h=_((()=>(0,t._)("p",null,"Ajouter un Bien",-1))),v=[h],b={class:"contenaire_card"},f={key:0,class:"messages"},w={class:"message"},y=_((()=>(0,t._)("p",null,"Ajouter un Bien",-1))),k=[y],x={class:"card-image"},C=["src"],D={class:"card-body"},A={class:"body-text"},U={class:"body-text"},I={class:"body-text"},Z={class:"icon"},z={class:"icon-content"},V=_((()=>(0,t._)("i",{class:"fas fa-door-closed"},null,-1))),P={class:"icon-content"},j=_((()=>(0,t._)("i",{class:"fas fa-bath"},null,-1))),B=_((()=>(0,t._)("div",{class:""},[(0,t._)("div",{id:"trait_dessus"})],-1))),M={class:""},J={class:"btn"},N={class:"btncard"},Q=["onClick"];function q(e,n,s,l,o,i){const a=(0,t.up)("ModalBien");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(a,{revele:o.revele,submit:i.submit,agentId:o.agentId},null,8,["revele","submit","agentId"]),(0,t._)("div",g,[(0,t._)("div",{class:"boutton",onClick:n[0]||(n[0]=(...e)=>i.submit&&i.submit(...e))},v),(0,t._)("div",b,[o.alert?((0,t.wg)(),(0,t.iD)("div",f,[(0,t._)("div",w,[(0,t._)("span",null,(0,m.zw)(o.alert),1),(0,t._)("div",{class:"boutton",onClick:n[1]||(n[1]=(...e)=>i.submit&&i.submit(...e))},k)])])):((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)(o.biens,(e=>((0,t.wg)(),(0,t.iD)("div",{class:"content-card",key:e.id},[(0,t._)("div",x,[(0,t._)("img",{src:e.images[0],alt:""},null,8,C)]),(0,t._)("div",D,[(0,t._)("div",A,[(0,t._)("h3",null,(0,m.zw)(e.ville)+" - "+(0,m.zw)(e.commune),1)]),(0,t._)("div",U,[(0,t._)("p",null,(0,m.zw)(e.nom_bien),1)]),(0,t._)("div",I,[(0,t._)("p",null,(0,m.zw)(e.piece)+"pièces/"+(0,m.zw)(e.superficie)+" m2",1)]),(0,t._)("div",Z,[(0,t._)("div",z,[V,(0,t._)("samp",null,(0,m.zw)(e.chambre)+" chambres",1)]),(0,t._)("div",P,[j,(0,t._)("samp",null,(0,m.zw)(e.douche)+" douches",1)])]),B,(0,t._)("div",M,[(0,t._)("p",null,"loyer "+(0,m.zw)(e.prix)+"F CFA/mois",1)]),(0,t._)("div",J,[(0,t._)("button",N,[(0,t._)("p",{onClick:n=>i.redirect(e.id)},"Détail",8,Q)])])])])))),128))])])])}s(7658);var E=s(1602),S=s(5350),T={name:"ComponentBien",props:["agentId","id"],components:{ModalBien:S.Z},data(){return{revele:!1,agentId:"",biens:"",alert:""}},methods:{submit(){this.revele=!this.revele,this.agentId=this.id},redirect(e){this.$router.push(`/agent/bien/detail/${e}`)}},async mounted(){let e=await E.Z.GetBienUser(this.id);console.log(e),e.success?(console.log(e.success),this.biens=e.success):e.alert?this.alert=e.alert:console.log("erreur404")}},$=s(89);const L=(0,$.Z)(T,[["render",q],["__scopeId","data-v-5f32e065"]]);var G=L;const F=e=>((0,t.dD)("data-v-ffa279c4"),e=e(),(0,t.Cn)(),e),H={class:"container"},K={class:"content"},O={class:"image"},R=["src"],W={class:"info"},Y=F((()=>(0,t._)("h3",null,"Informations",-1))),X={class:"tableau"},ee=F((()=>(0,t._)("div",{class:"tableau-heaeder"},[(0,t._)("p",null,"Nom :"),(0,t._)("p",null,"Prenom:"),(0,t._)("p",null," Email :"),(0,t._)("p",null,"Numéro :")],-1))),ne={class:"tableau-content"},se={class:"boutton"},te=F((()=>(0,t._)("button",{class:"delete"},"Supprimer",-1)));function le(e,n,s,l,o,i){return(0,t.wg)(),(0,t.iD)("div",H,[(0,t._)("div",K,[(0,t._)("div",O,[(0,t._)("img",{src:o.agent.image,alt:""},null,8,R)]),(0,t._)("div",W,[Y,(0,t._)("div",X,[ee,(0,t._)("div",ne,[(0,t._)("p",null,(0,m.zw)(o.agent.nom),1),(0,t._)("p",null,(0,m.zw)(o.agent.prenom),1),(0,t._)("p",null,(0,m.zw)(o.agent.email),1),(0,t._)("p",null,(0,m.zw)(o.agent.numero),1)])]),(0,t._)("div",se,[(0,t._)("button",{class:"update",onClick:n[0]||(n[0]=e=>i.update())},"Modifier"),te])])])])}var oe=s(8418),ie={name:"ComponentProfil",props:["id"],components:{},data(){return{agent:""}},methods:{update(){this.$router.push(`/update/${this.id}`)}},async mounted(){let e=await oe.Z.GetAgnetId(this.id);console.log(e.success),e.success&&(this.agent=e.success)}};const ae=(0,$.Z)(ie,[["render",le],["__scopeId","data-v-ffa279c4"]]);var ce=ae,re={name:"ComponentAgent",props:["id"],components:{bien:G,profil:ce},data(){return{component:"bien"}}};const de=(0,$.Z)(re,[["render",p],["__scopeId","data-v-713eeadd"]]);var ue=de,pe={name:"AgentView",props:["id"],components:{ComponentAgent:ue}};const me=(0,$.Z)(pe,[["render",l]]);var _e=me}}]);
//# sourceMappingURL=504.b30f2cd0.js.map