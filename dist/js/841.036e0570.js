"use strict";(self["webpackChunkprojet_immobilier"]=self["webpackChunkprojet_immobilier"]||[]).push([[841],{8418:function(e,s,i){var n,l=i(2482),c=(i(7658),i(125)),a=i(6035);const o=(n=class{},(0,l.Z)(n,"InsertionAgent",(e=>(console.log("sqfQSD",{...e}),new Promise((async s=>{await(0,a.ET)(c.mk,e).then((e=>{console.log("ss",e),s({success:e})})).catch((e=>{console.log("eee",e),s({erreur:e})}))}))))),(0,l.Z)(n,"AfficherAgent",(()=>{let e=[];return new Promise((async s=>{await(0,a.PL)(c.mk).then((i=>{i.docs.length>0?i.forEach((i=>{let n=i.data();n.id=i.id,e.push(n),console.log("ssss",e),s({success:e})})):s({alert:"Aucun Agent inscri pour le moment !"})})).catch((e=>{console.log("eee",e),s({erreur:e})}))}))})),(0,l.Z)(n,"GetAgnetId",(e=>new Promise((async s=>{const i=(0,a.JU)(c.mk,e);await(0,a.QT)(i).then((e=>{console.log("ss",e.data()),s({success:e.data()})})).catch((e=>{console.log("eee",e),s({erreur:e})}))})))),(0,l.Z)(n,"DeleteAgent",(e=>(console.log("sqfQSD",e),new Promise((async s=>{await(0,a.oe)((0,a.JU)(c.mk,e)).then((e=>{console.log("ss",e),s({success:"supprimer avec success"})})).catch((e=>{console.log("eee",e),s({erreur:e})}))}))))),(0,l.Z)(n,"UpdateAgent",((e,s)=>(console.log("sqfQSD",e,s.image),console.log("sqfQdgsgsgSD",s.image),new Promise((async i=>{if(""===s.image){console.log("besion de image");const n=(0,a.JU)(c.mk,e);await(0,a.QT)(n).then((n=>{let l=n.data().image;s.image=l;const o=(0,a.JU)(c.mk,e);(0,a.pl)(o,s,{merge:!0}),console.log((0,a.pl)(o,s,{merge:!0})),i({success:n.data()})})).catch((e=>{console.log("eee",e),i({erreur:e})}))}else{const n=(0,a.JU)(c.mk,e);(0,a.pl)(n,s,{merge:!0}).then((e=>{console.log("ss",e),i({success:"reussis"})})).catch((e=>{console.log("eee",e),i({erreur:e})}))}}))))),n);s["Z"]=o},9443:function(e,s,i){i.d(s,{Z:function(){return ue}});var n=i(3396),l=i(7139);const c=e=>((0,n.dD)("data-v-4896b644"),e=e(),(0,n.Cn)(),e),a={class:"container-fluid"},o={class:"containers",ref:"scroll"},t={key:0,class:"modifier"},r=c((()=>(0,n._)("div",{class:"boutton"},[(0,n._)("p",{class:"text"},"Ce bien est déjà vendu")],-1))),d=[r],u={class:"container"},m={class:"texte"},g={class:"ImageHeader"},_={class:"image"},v=["src"],p={class:"container-info"},b={class:"info-right"},f={class:"info-texte"},h={class:"info-texte"},w={class:"info-texte"},k={class:"icon"},z={class:"icon-content"},D=c((()=>(0,n._)("i",{class:"fas fa-door-closed"},null,-1))),y={class:"icon-content"},A=c((()=>(0,n._)("i",{class:"fas fa-bath"},null,-1))),Z={class:"icon"},x={class:"icon-content"},C=c((()=>(0,n._)("i",{class:"fas fa-window-frame"},null,-1))),I={class:"icon-content"},q=c((()=>(0,n._)("i",{class:"fas fa-expand"},null,-1))),U={class:"info-left"},B={class:"container-desc"},P={class:"description"},Q=c((()=>(0,n._)("h5",null,"Description du bien",-1))),T=c((()=>(0,n._)("div",{id:"trait_dessus"},null,-1))),J=c((()=>(0,n._)("div",{id:"trait_dessus"},null,-1))),L={class:"proximite"},S=c((()=>(0,n._)("h5",null,"Services à proximité",-1))),$={class:"container-image"},H=["src"],j={key:1,class:"container-message"},G={class:"message-content"},V=c((()=>(0,n._)("h3",null,"Les informations de l'agent immobilier qui a publié ce bien .",-1))),E={class:"contenaire_card"},F={class:"content-card"},O={class:"card-image"},K=["src"],N={class:"card-body"},W={class:"body-text"},Y=c((()=>(0,n._)("i",{class:"fa-solid fa-user"},null,-1))),M={class:"body-text"},R=c((()=>(0,n._)("i",{class:"fa-solid fa-envelope"},null,-1))),X={class:"body-text"},ee=c((()=>(0,n._)("i",{class:"fa-solid fa-phone"},null,-1))),se={class:"modifier"},ie={key:0,class:"boutton vendu"},ne=["disabled"],le={key:1,class:"boutton"};function ce(e,s,i,c,r,ce){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",a,[(0,n._)("div",o,["true"==r.bien.status?((0,n.wg)(),(0,n.iD)("div",t,d)):(0,n.kq)("",!0),(0,n._)("div",u,[(0,n._)("div",m,[(0,n._)("p",null,"Location "+(0,l.zw)(r.bien.nom_bien)+" "+(0,l.zw)(r.bien.superficie)+"m2, "+(0,l.zw)(r.bien.ville)+" "+(0,l.zw)(r.bien.commune),1)]),(0,n._)("div",g,[(0,n._)("div",_,[(0,n._)("img",{src:r.bien.images,alt:""},null,8,v)])])]),(0,n._)("div",p,[(0,n._)("div",b,[(0,n._)("h1",f,"LOCATION "+(0,l.zw)(r.bien.nom_bien)+" "+(0,l.zw)(r.bien.ville),1),(0,n._)("h3",h,(0,l.zw)(r.bien.commune),1),(0,n._)("p",w,(0,l.zw)(r.bien.nom_bien)+" "+(0,l.zw)(r.bien.piece)+"pieces",1),(0,n._)("div",k,[(0,n._)("div",z,[D,(0,n._)("samp",null,(0,l.zw)(r.bien.chambre)+" chambres ",1)]),(0,n._)("div",y,[A,(0,n._)("samp",null,(0,l.zw)(r.bien.douche)+" douches",1)])]),(0,n._)("div",Z,[(0,n._)("div",x,[C,(0,n._)("samp",null,(0,l.zw)(r.bien.piece)+" pieces",1)]),(0,n._)("div",I,[q,(0,n._)("samp",null,(0,l.zw)(r.bien.superficie)+" m2",1)])])]),(0,n._)("div",U,[(0,n._)("h5",null,"Loyer "+(0,l.zw)(r.bien.prix)+" F CFA/mois charges comprises",1)])]),(0,n._)("div",B,[(0,n._)("div",P,[Q,(0,n._)("p",null,(0,l.zw)(r.bien.description),1)]),T,J,(0,n._)("div",L,[S,(0,n._)("p",null,(0,l.zw)(r.bien.service),1)])]),(0,n._)("div",$,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.bien.images,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"Images",key:e.id},[(0,n._)("img",{src:e,alt:""},null,8,H)])))),128))]),"001"!=r.bien.user_id?((0,n.wg)(),(0,n.iD)("div",j,[(0,n._)("div",G,[V,(0,n._)("div",E,[(0,n._)("div",F,[(0,n._)("div",O,[(0,n._)("img",{src:r.agent.image,alt:""},null,8,K)]),(0,n._)("div",N,[(0,n._)("div",W,[Y,(0,n._)("p",null,(0,l.zw)(r.agent.nom)+" "+(0,l.zw)(r.agent.prenom),1)]),(0,n._)("div",M,[R,(0,n._)("p",null,(0,l.zw)(r.agent.email),1)]),(0,n._)("div",X,[ee,(0,n._)("p",null,(0,l.zw)(r.agent.numero),1)])])])])])])):(0,n.kq)("",!0),(0,n._)("div",se,["true"==r.bien.status?((0,n.wg)(),(0,n.iD)("div",ie,[(0,n._)("button",{class:"update",disabled:r.isActive,onClick:s[0]||(s[0]=e=>ce.vendre())},"Vendu",8,ne)])):((0,n.wg)(),(0,n.iD)("div",le,[(0,n._)("button",{class:"update",onClick:s[1]||(s[1]=e=>ce.vendre())},"Vendu")]))])],512)])])}i(7658);var ae=i(1602),oe=i(8418),te={name:"BienDetail",props:["id"],data(){return{bien:"",isActive:!0,agent:""}},methods:{async vendre(){console.log(this.id);let e=await ae.Z.UpdateBienVendu(this.id);console.log("sdd",e)},update(){this.$router.push(`/dashbord/updatebien/${this.id}`)}},async mounted(){this.$refs.scroll.scrollTop=this.$refs.scroll.scrollHeight,this.$refs.scroll.scrollTo(0,document.body.scrollHeight);let e=await ae.Z.GetBienId(this.id);if(console.log(e.success.user_id),e.success){this.bien=e.success;let s=e.success.user_id,i=await oe.Z.GetAgnetId(s);console.log("agent",i.success),this.agent=i.success}}},re=i(89);const de=(0,re.Z)(te,[["render",ce],["__scopeId","data-v-4896b644"]]);var ue=de},841:function(e,s,i){i.r(s),i.d(s,{default:function(){return r}});var n=i(3396);function l(e,s,i,l,c,a){const o=(0,n.up)("BienDetail");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(o,{id:i.id},null,8,["id"])])}var c=i(9443),a={name:"DetailBien",props:["id"],components:{BienDetail:c.Z}},o=i(89);const t=(0,o.Z)(a,[["render",l]]);var r=t}}]);
//# sourceMappingURL=841.036e0570.js.map