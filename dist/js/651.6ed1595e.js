"use strict";(self["webpackChunkprojet_immobilier"]=self["webpackChunkprojet_immobilier"]||[]).push([[651],{8418:function(e,t,n){var s,l=n(2482),o=(n(7658),n(125)),i=n(6035);const a=(s=class{},(0,l.Z)(s,"InsertionAgent",(e=>(console.log("sqfQSD",{...e}),new Promise((async t=>{await(0,i.ET)(o.mk,e).then((e=>{console.log("ss",e),t({success:e})})).catch((e=>{console.log("eee",e),t({erreur:e})}))}))))),(0,l.Z)(s,"AfficherAgent",(()=>{let e=[];return new Promise((async t=>{await(0,i.PL)(o.mk).then((n=>{n.docs.length>0?n.forEach((n=>{let s=n.data();s.id=n.id,e.push(s),console.log("ssss",e),t({success:e})})):t({alert:"Aucun Agent inscri pour le moment !"})})).catch((e=>{console.log("eee",e),t({erreur:e})}))}))})),(0,l.Z)(s,"GetAgnetId",(e=>new Promise((async t=>{const n=(0,i.JU)(o.mk,e);await(0,i.QT)(n).then((e=>{console.log("ss",e.data()),t({success:e.data()})})).catch((e=>{console.log("eee",e),t({erreur:e})}))})))),(0,l.Z)(s,"DeleteAgent",(e=>(console.log("sqfQSD",e),new Promise((async t=>{await(0,i.oe)((0,i.JU)(o.mk,e)).then((e=>{console.log("ss",e),t({success:"supprimer avec success"})})).catch((e=>{console.log("eee",e),t({erreur:e})}))}))))),(0,l.Z)(s,"UpdateAgent",((e,t)=>(console.log("sqfQSD",e,t.image),console.log("sqfQdgsgsgSD",t.image),new Promise((async n=>{if(""===t.image){console.log("besion de image");const s=(0,i.JU)(o.mk,e);await(0,i.QT)(s).then((s=>{let l=s.data().image;t.image=l;const a=(0,i.JU)(o.mk,e);(0,i.pl)(a,t,{merge:!0}),console.log((0,i.pl)(a,t,{merge:!0})),n({success:s.data()})})).catch((e=>{console.log("eee",e),n({erreur:e})}))}else{const s=(0,i.JU)(o.mk,e);(0,i.pl)(s,t,{merge:!0}).then((e=>{console.log("ss",e),n({success:"reussis"})})).catch((e=>{console.log("eee",e),n({erreur:e})}))}}))))),s);t["Z"]=a},8841:function(e,t,n){var s,l=n(2482),o=(n(7658),n(125)),i=n(6035);const a=(s=class{},(0,l.Z)(s,"InsertionUser",(e=>(console.log("sqfQSD",{...e}),new Promise((async t=>{await(0,i.ET)(o.K9,e).then((e=>{console.log("ss",e),t({resultat:e})})).catch((e=>{console.log("eee",e),t({erreur:e})}))}))))),(0,l.Z)(s,"AfficherUser",(()=>{let e=[];return new Promise((async t=>{await(0,i.PL)(o.K9).then((n=>{console.log("offf",n.docs),n.docs.length>0?n.forEach((n=>{let s=n.data();s.id=n.id,e.push(s),console.log("ssss",e),t({success:e})})):t({alert:"Aucun client n'a posté pour le moment !"})})).catch((e=>{console.log("eee",e),t({erreur:e})}))}))})),(0,l.Z)(s,"GetClientId",(e=>{let t=[];return console.log("sqfQSD",e),new Promise((async n=>{const s=(0,i.IO)(o.K9,(0,i.ar)("user_id","==",e));await(0,i.PL)(s).then((e=>{console.log("rrf",e),e.docs.length>0?e.forEach((e=>{let s=e.data();s.id=e.id,t.push(s),console.log("ssss",t),n({success:t})})):(console.log("df<df"),n({alert:"Aucun client n'a posté pour le moment !"}))})).catch((e=>{console.log("eee",e),n({erreur:e})}))}))})),s);t["Z"]=a},9432:function(e,t,n){n.d(t,{Z:function(){return g}});var s=n(3396),l=n(9242);const o=e=>((0,s.dD)("data-v-2cf2e9ce"),e=e(),(0,s.Cn)(),e),i={class:"container"},a=o((()=>(0,s._)("p",null,"vous voulez-vous supprimer ce agent ?",-1))),c={class:"boutton"};function r(e,t,n,o,r,d){return(0,s.wg)(),(0,s.iD)("div",null,[n.toggle?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"modal-container",id:"modal",onClick:t[2]||(t[2]=(0,l.iM)(((...e)=>n.agentDelete&&n.agentDelete(...e)),["self"]))},[(0,s._)("div",i,[a,(0,s._)("div",c,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>d.supp&&d.supp(...e))},"Oui"),(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>d.close&&d.close(...e))},"Non")])])])):(0,s.kq)("",!0)])}var d=n(8418),u={name:"DeleteBien",props:["toggle","agentDelete","Iddelete"],methods:{async supp(){let e=await d.Z.DeleteAgent(this.Iddelete);e.success&&location.reload()},close(){this.toggle=!1,console.log("ddd")}}},p=n(89);const m=(0,p.Z)(u,[["render",r],["__scopeId","data-v-2cf2e9ce"]]);var g=m},8420:function(e,t,n){n.d(t,{Z:function(){return U}});var s=n(3396),l=n(9242);const o=e=>((0,s.dD)("data-v-9c2a01d0"),e=e(),(0,s.Cn)(),e),i={class:"loading"},a={class:"modal"},c=o((()=>(0,s._)("h1",null,"Enregistrement des biens immobiliers",-1))),r={class:"form_groupe"},d={class:"form_groupe"},u={class:"form_groupe"},p={class:"form_groupe"},m={class:"textArea"},g={class:"textArea"},_={class:"custom-file-upload"},h=o((()=>(0,s._)("i",{class:"fa fa-cloud-upload"},null,-1))),v=(0,s.Uk)(" Téléchargement personnalisé "),b={class:"boutton"},f=["disabled"];function w(e,t,n,o,w,y){const D=(0,s.up)("ComponentLoading");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",i,[(0,s.Wm)(D)]),n.revele?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"modal-container",id:"modal",onClick:t[13]||(t[13]=(0,l.iM)(((...e)=>n.submit&&n.submit(...e)),["self"]))},[(0,s._)("div",a,[c,(0,s._)("form",null,[(0,s._)("div",r,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Non du bien","onUpdate:modelValue":t[0]||(t[0]=e=>w.nom_bien=e)},null,512),[[l.nr,w.nom_bien]]),(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Prix du bien","onUpdate:modelValue":t[1]||(t[1]=e=>w.prix=e)},null,512),[[l.nr,w.prix]])]),(0,s._)("div",d,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Nombre de pieces","onUpdate:modelValue":t[2]||(t[2]=e=>w.piece=e)},null,512),[[l.nr,w.piece]]),(0,s.wy)((0,s._)("input",{type:"text",placeholder:"superficie","onUpdate:modelValue":t[3]||(t[3]=e=>w.superficie=e)},null,512),[[l.nr,w.superficie]])]),(0,s._)("div",u,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Nombre de chambre","onUpdate:modelValue":t[4]||(t[4]=e=>w.chambre=e)},null,512),[[l.nr,w.chambre]]),(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Nombre de douche","onUpdate:modelValue":t[5]||(t[5]=e=>w.douche=e)},null,512),[[l.nr,w.douche]])]),(0,s._)("div",p,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Ville ","onUpdate:modelValue":t[6]||(t[6]=e=>w.ville=e)},null,512),[[l.nr,w.ville]]),(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Commune","onUpdate:modelValue":t[7]||(t[7]=e=>w.commune=e)},null,512),[[l.nr,w.commune]])]),(0,s._)("div",m,[(0,s.wy)((0,s._)("textarea",{name:"",id:"",cols:"71",rows:"4",placeholder:"Description","onUpdate:modelValue":t[8]||(t[8]=e=>w.description=e)},null,512),[[l.nr,w.description]])]),(0,s._)("div",g,[(0,s.wy)((0,s._)("textarea",{name:"",id:"",cols:"71",rows:"4",placeholder:"service","onUpdate:modelValue":t[9]||(t[9]=e=>w.service=e)},null,512),[[l.nr,w.service]])]),(0,s.wy)((0,s._)("input",{type:"hidden","onUpdate:modelValue":t[10]||(t[10]=t=>e.user_id=t)},null,512),[[l.nr,e.user_id]]),(0,s._)("label",_,[(0,s._)("input",{type:"file",onChange:t[11]||(t[11]=(...e)=>y.upload&&y.upload(...e)),multiple:""},null,32),h,v]),(0,s._)("div",b,[(0,s._)("button",{disabled:w.isActive,onClick:t[12]||(t[12]=(0,l.iM)(((...e)=>y.valider&&y.valider(...e)),["prevent"]))},"Ajouter un bien",8,f)])])])])):(0,s.kq)("",!0)])}n(7658);var y=n(1602),D=n(125),k=n(1992),C=n(5833),A={name:"ModalBien",props:["revele","submit","agentId"],components:{ComponentLoading:C.Z},data(){return{isActive:!0,nom_bien:"",prix:"",piece:"",superficie:"",chambre:"",douche:"",ville:"",commune:"",description:"",service:"",image:"",loading:!1}},methods:{async valider(){this.loading=!0;let e={nom_bien:this.nom_bien,prix:this.prix,piece:this.piece,superficie:this.superficie,chambre:this.chambre,douche:this.douche,ville:this.ville,commune:this.commune,description:this.description,service:this.service,images:this.image,user_id:this.agentId,status:!1};console.log(e);let t=await y.Z.InsertionBien(e);t.success?(this.$router.go(),this.loading=!1):console.log("error 404")},async upload(e){const t=[];Object.values(e.target.files).forEach((e=>{console.log(e.name);const n=e,s={contentType:"image/jpeg"},l=(0,k.iH)(D.tO,"temp/"+n.name);t.push((0,k.KV)(l,n,s).then((e=>(0,k.Jt)(e.ref))))}));const n=await Promise.all(t);n&&(this.isActive=!1),this.image=n,console.log(this.image)}}},I=n(89);const Z=(0,I.Z)(A,[["render",w],["__scopeId","data-v-9c2a01d0"]]);var U=Z},2651:function(e,t,n){n.r(t),n.d(t,{default:function(){return qe}});var s=n(3396);function l(e,t,n,l,o,i){const a=(0,s.up)("ComponentAgent");return(0,s.wg)(),(0,s.j4)(a,{id:n.id},null,8,["id"])}var o=n(9202);const i=e=>((0,s.dD)("data-v-6ad0039b"),e=e(),(0,s.Cn)(),e),a={class:"container"},c={class:"menu"},r=i((()=>(0,s._)("div",{class:"image"},[(0,s._)("img",{src:o,alt:""})],-1))),d={class:"content"},u={class:"search"},p=i((()=>(0,s._)("form",{action:""},[(0,s._)("input",{type:"text",placeholder:"Recherchez"})],-1))),m={class:"btn"};function g(e,t,n,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",a,[(0,s._)("div",c,[r,(0,s._)("nav",null,[(0,s._)("p",{onClick:t[0]||(t[0]=e=>o.component="bien")},"Liste des Biens"),(0,s._)("p",{onClick:t[1]||(t[1]=e=>o.component="profil")},"Mon profil"),(0,s._)("p",{onClick:t[2]||(t[2]=e=>o.component="client")},"Liste des clients")])]),(0,s._)("div",d,[(0,s._)("div",u,[p,(0,s._)("div",m,[(0,s._)("p",{onClick:t[3]||(t[3]=(...e)=>i.logout&&i.logout(...e))},"Deconnecter")])]),((0,s.wg)(),(0,s.j4)((0,s.LL)(o.component),{id:n.id},null,8,["id"]))])])])}n(7658);var _=n(7139);const h=e=>((0,s.dD)("data-v-37363949"),e=e(),(0,s.Cn)(),e),v={class:"contenu1"},b=h((()=>(0,s._)("p",null,"Ajouter un Bien",-1))),f=[b],w={class:"contenaire_card"},y={key:0,class:"messages"},D={class:"message"},k=h((()=>(0,s._)("p",null,"Ajouter un Bien",-1))),C=[k],A={class:"card-image"},I=["src"],Z={class:"card-body"},U={class:"body-text"},x={class:"body-text"},z={class:"body-text"},P={class:"icon"},V={class:"icon-content"},$=h((()=>(0,s._)("i",{class:"fas fa-door-closed"},null,-1))),L={class:"icon-content"},j=h((()=>(0,s._)("i",{class:"fas fa-bath"},null,-1))),B=h((()=>(0,s._)("div",{class:""},[(0,s._)("div",{id:"trait_dessus"})],-1))),N={class:""},q={class:"btn"},E={class:"btncard"},M=["onClick"];function Q(e,t,n,l,o,i){const a=(0,s.up)("ModalBien");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(a,{revele:o.revele,submit:i.submit,agentId:o.agentId},null,8,["revele","submit","agentId"]),(0,s._)("div",v,[(0,s._)("div",{class:"boutton",onClick:t[0]||(t[0]=(...e)=>i.submit&&i.submit(...e))},f),(0,s._)("div",w,[o.alert?((0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("div",D,[(0,s._)("span",null,(0,_.zw)(o.alert),1),(0,s._)("div",{class:"boutton",onClick:t[1]||(t[1]=(...e)=>i.submit&&i.submit(...e))},C)])])):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(o.biens,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"content-card",key:e.id},[(0,s._)("div",A,[(0,s._)("img",{src:e.images[0],alt:""},null,8,I)]),(0,s._)("div",Z,[(0,s._)("div",U,[(0,s._)("h3",null,(0,_.zw)(e.ville)+" - "+(0,_.zw)(e.commune),1)]),(0,s._)("div",x,[(0,s._)("p",null,(0,_.zw)(e.nom_bien),1)]),(0,s._)("div",z,[(0,s._)("p",null,(0,_.zw)(e.piece)+"pièces/"+(0,_.zw)(e.superficie)+" m2",1)]),(0,s._)("div",P,[(0,s._)("div",V,[$,(0,s._)("samp",null,(0,_.zw)(e.chambre)+" chambres",1)]),(0,s._)("div",L,[j,(0,s._)("samp",null,(0,_.zw)(e.douche)+" douches",1)])]),B,(0,s._)("div",N,[(0,s._)("p",null,"loyer "+(0,_.zw)(e.prix)+"F CFA/mois",1)]),(0,s._)("div",q,[(0,s._)("button",E,[(0,s._)("p",{onClick:t=>i.redirect(e.id)},"Détail",8,M)])])])])))),128))])])])}var T=n(1602),S=n(8420),H={name:"ComponentBien",props:["agentId","id"],components:{ModalBien:S.Z},data(){return{revele:!1,agentId:"",biens:"",alert:""}},methods:{submit(){this.revele=!this.revele,this.agentId=this.id},redirect(e){this.$router.push(`/agent/bien/detail/${e}`)}},async mounted(){let e=await T.Z.GetBienUser(this.id);console.log(e),e.success?(console.log(e.success),this.biens=e.success):e.alert?this.alert=e.alert:console.log("erreur404")}},J=n(89);const K=(0,J.Z)(H,[["render",Q],["__scopeId","data-v-37363949"]]);var G=K;const F=e=>((0,s.dD)("data-v-1f3371d5"),e=e(),(0,s.Cn)(),e),O={class:"container"},W={class:"content"},Y={class:"image"},R=["src"],X={class:"info"},ee=F((()=>(0,s._)("h3",null,"Informations",-1))),te={class:"tableau"},ne=F((()=>(0,s._)("div",{class:"tableau-heaeder"},[(0,s._)("p",null,"Nom :"),(0,s._)("p",null,"Prenom:"),(0,s._)("p",null," Email :"),(0,s._)("p",null,"Numéro :")],-1))),se={class:"tableau-content"},le={class:"boutton"};function oe(e,t,n,l,o,i){const a=(0,s.up)("DeleteAgent");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(a,{toggle:o.toggle,agentDelete:i.agentDelete,Iddelete:o.Iddelete},null,8,["toggle","agentDelete","Iddelete"]),(0,s._)("div",O,[(0,s._)("div",W,[(0,s._)("div",Y,[(0,s._)("img",{src:o.agent.image,alt:""},null,8,R)]),(0,s._)("div",X,[ee,(0,s._)("div",te,[ne,(0,s._)("div",se,[(0,s._)("p",null,(0,_.zw)(o.agent.nom),1),(0,s._)("p",null,(0,_.zw)(o.agent.prenom),1),(0,s._)("p",null,(0,_.zw)(o.agent.email),1),(0,s._)("p",null,(0,_.zw)(o.agent.numero),1)])]),(0,s._)("div",le,[(0,s._)("button",{class:"update",onClick:t[0]||(t[0]=e=>i.update())},"Modifier"),(0,s._)("button",{class:"delete",onClick:t[1]||(t[1]=(...e)=>i.agentDelete&&i.agentDelete(...e))},"Supprimer")])])])])],64)}var ie=n(8418),ae=n(9432),ce={name:"ComponentProfil",props:["id"],components:{DeleteAgent:ae.Z},data(){return{agent:"",Iddelete:"",toggle:!1}},methods:{update(){this.$router.push(`/update/${this.id}`)},agentDelete(){console.log(this.id),this.toggle=!this.toggle,this.Iddelete=this.id}},async mounted(){let e=await ie.Z.GetAgnetId(this.id);console.log(e.success),e.success&&(this.agent=e.success)}};const re=(0,J.Z)(ce,[["render",oe],["__scopeId","data-v-1f3371d5"]]);var de=re,ue=n(125),pe=n(1683),me=n(3079);const ge=e=>((0,s.dD)("data-v-64c3b116"),e=e(),(0,s.Cn)(),e),_e={class:"contenu"},he={class:"contenu_card"},ve={class:"carnet",ref:"scroll"},be={key:0,class:"alert"},fe={key:1,class:"table-container"},we=ge((()=>(0,s._)("h1",{class:"heading"}," La liste des clients ",-1))),ye={class:"table"},De=ge((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"Nom du client"),(0,s._)("th",null,"Adresse Email"),(0,s._)("th",null,"Numero"),(0,s._)("th",null,"Voir le bien")])],-1))),ke={"data-label":"date de l'acte"},Ce={"data-label":"Vaccin utilisé"},Ae={"data-label":"Protège contre"},Ie={class:"doctor"},Ze=["onClick"];function Ue(e,t,n,l,o,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",_e,[(0,s._)("div",he,[(0,s._)("div",ve,[o.alert?((0,s.wg)(),(0,s.iD)("div",be,(0,_.zw)(o.alert),1)):((0,s.wg)(),(0,s.iD)("div",fe,[we,(0,s._)("table",ye,[De,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.users,(e=>((0,s.wg)(),(0,s.iD)("tbody",{key:e.id},[(0,s._)("tr",null,[(0,s._)("td",ke,[(0,s._)("p",null,(0,_.zw)(e.nom),1)]),(0,s._)("td",Ce,(0,_.zw)(e.email)+"FCFA ",1),(0,s._)("td",Ae,(0,_.zw)(e.numero),1),(0,s._)("td",Ie,[(0,s._)("i",{class:"fa-solid fa-eye",onClick:t=>i.redirect(e.bien_id)},null,8,Ze)])])])))),128))])]))],512)])])])}var xe=n(8841),ze={name:"ComponentProfil",props:["id"],components:{},data(){return{revele:!1,component:"",users:"",alert:""}},methods:{redirect(e){this.$router.push(`/agent/bien/detail/${e}`),console.log(e)}},async mounted(){this.$refs.scroll.scrollTop=this.$refs.scroll.scrollHeight,this.$refs.scroll.scrollTo(0,document.body.scrollHeight);let e=await xe.Z.GetClientId(this.id);e.success?this.users=e.success:e.alert?this.alert=e.alert:console.log("eeeq")}};const Pe=(0,J.Z)(ze,[["render",Ue],["__scopeId","data-v-64c3b116"]]);var Ve=Pe,$e={name:"ComponentAgent",props:["id"],components:{bien:G,profil:de,client:Ve},data(){return{component:"bien",idUser:""}},methods:{async logout(){await me.Z.LogoutUser(),this.$router.push("/login")}},mounted(){},created(){(0,pe.Aj)(ue.I8,(e=>{null==e&&"agent"!=e.displayName&&(this.idUser=e.uid,this.$router.push("/login"))}))}};const Le=(0,J.Z)($e,[["render",g],["__scopeId","data-v-6ad0039b"]]);var je=Le,Be={name:"AgentView",props:["id"],components:{ComponentAgent:je}};const Ne=(0,J.Z)(Be,[["render",l]]);var qe=Ne}}]);
//# sourceMappingURL=651.6ed1595e.js.map