{"version":3,"file":"js/858.391f7240.js","mappings":"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","sources":["webpack://projet_immobilier/./src/database/requeteAgent.js","webpack://projet_immobilier/./src/views/ViewAdmin/UpdateAgent.vue","webpack://projet_immobilier/./src/components/ComponentAdmin/ComponentUpdateAgent.vue","webpack://projet_immobilier/./src/components/ComponentAdmin/ComponentUpdateAgent.vue?9d1c","webpack://projet_immobilier/./src/views/ViewAdmin/UpdateAgent.vue?26dc"],"sourcesContent":["import { agentcollection} from \"./Connect\";\nimport {  addDoc , getDocs ,getDoc,doc,setDoc,deleteDoc } from 'firebase/firestore'\n\nconst dataAgent = class{\n\n    static InsertionAgent = (into)=>{\n        console.log('sqfQSD',{...into});\n        return new Promise(async (next)=>{\n        await addDoc(agentcollection,into)\n        .then(docRef=>{\n                 console.log('ss',docRef);\n                 next({success:docRef})\n        }).catch(error=>{\n                 console.log(\"eee\",error);\n                 next ({ erreur:error})\n            })\n         })\n       \n    }\n\n    static AfficherAgent = ()=>{\n        let array =[]\n        return new Promise(async (next)=>{\n       await getDocs(agentcollection)\n        .then(docRef=>{\n          if (docRef.docs.length > 0) {\n            docRef.forEach((doc) => {\n                let data = doc.data()\n                data.id =doc.id,\n                array.push(data)\n                console.log('ssss',array);\n                next({success:array})  \n              })\n            \n          } else {\n            next({alert:\"Aucun Agent inscri pour le moment !\"}) \n            \n          }\n\n        }).catch(error=>{\n                 console.log(\"eee\",error);\n                 next ({ erreur:error})\n            })\n         })\n       \n    }\n\n    static GetAgnetId = (id)=>{\n        return new Promise(async (next)=>{\n        const docRef = doc(agentcollection, id);\n         await getDoc(docRef)\n        .then(docRef=>{\n                 console.log('ss',docRef.data());\n                 next({success:docRef.data()})\n        }).catch(error=>{\n                 console.log(\"eee\",error);\n                 next ({ erreur:error})\n            })\n         })\n       \n    }\n\n\n    static DeleteAgent = (id)=>{\n      console.log('sqfQSD',id);\n      return new Promise(async (next)=>{\n      await deleteDoc(doc(agentcollection, id))\n      .then(resultat=>{\n               console.log('ss',resultat);\n               next({success:'supprimer avec success'})\n      }).catch(error=>{\n               console.log(\"eee\",error);\n               next ({ erreur:error})\n          })\n       })\n\n      }\n\n      static UpdateAgent = (id,into)=>{\n        console.log('sqfQSD',id,into.image);\n        console.log('sqfQdgsgsgSD',into.image);\n        return new Promise(async (next)=>{\n          if (into.image === '') {\n            console.log('besion de image');\n\n            const docRef = doc(agentcollection, id);\n            await getDoc(docRef)\n           .then(docRef=>{\n                     let data = docRef.data().image\n                     into.image = data\n                    const update = doc(agentcollection, id);\n                    setDoc(update,into,{ merge:true })\n                    console.log( setDoc(update,into,{ merge:true }));\n                    next({success:docRef.data()})         \n           }).catch(error=>{\n                    console.log(\"eee\",error);\n                    next ({ erreur:error})\n               })\n            \n          } else {\n\n            const update = doc(agentcollection, id);\n            setDoc(update,into,{ merge:true })\n            .then(docRef=>{\n                    console.log('ss',docRef);\n                    next({success:\"reussis\"})\n            }).catch(error=>{\n                    console.log(\"eee\",error);\n                    next ({ erreur:error})\n                })\n              \n            \n          }\n         })\n       \n    }\n\n}\n\nexport default dataAgent","<template>\n    <ComponentUpdateAgent :id=\"id\"/>\n   \n </template>\n \n <script>\nimport ComponentUpdateAgent from '@/components/ComponentAdmin/ComponentUpdateAgent.vue';\n export default {\n     props:['id'],\n     name:'UpdateBien',\n     components:{\n        ComponentUpdateAgent\n \n     }\n \n }\n </script>\n \n <style>\n \n </style>","<template>\n    <div>\n       <div class=\"modal-container\" >\n          <div class=\"modal\">\n             <h1>Modifier  </h1>\n             <form action=\"\">\n               <p>dfs</p>\n                  <input type=\"text\" placeholder=\"Non\" v-model=\"nom\">\n                 \n                  <input type=\"text\" placeholder=\"Prenom\" v-model=\"prenom\">\n              \n               <div class=\"form_groupe\">\n                  <input type=\"email\" placeholder=\"Adresse Email\" v-model=\"email\">\n                  <input type=\"tel\" placeholder=\"Numero\" v-model=\"numero\">\n              </div>\n               <div class=\"form_groupe\">\n                  <input type=\"password\" placeholder=\"Mot de passe\" v-model=\"password\">\n              </div>\n\n             <label class=\"custom-file-upload\">\n              <input type=\"file\" @change=\"upload\"/>\n              <i class=\"fa fa-cloud-upload\"></i> \n                  Téléchargement personnalisé\n              </label>\n  \n              <div class=\"boutton\">\n                      <button @click.prevent=\"valider\">Modifier</button>\n                  </div>\n             </form>\n          \n          </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import dataAgent from '@/database/requeteAgent';\n  import {storage} from '@/database/Connect'\n  import { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\n  export default {\n      \n      name:'UpdateBien',\n      props:['id'],\n     data() {\n      return {\n          nom:'',\n          prenom:'',\n          email:'',\n          numero:'',\n          password:'',\n          image:''\n          \n      }\n     },\n     methods: {\n     async valider(){\n          let DataAgent={\n             nom:this.nom,\n             prenom:this.prenom,\n             email:this.email,\n             numero:this.numero,\n             password:this.password,\n             image:this.image\n      \n          }\n          console.log(DataAgent);\n       let agent =  await dataAgent.UpdateAgent(this.id,DataAgent)\n       if (agent.success) {\n          this.$router.push('/')\n          \n       } else {\n          console.log('error 404');\n          \n       }\n  \n      },\n     \n  \n  async upload (e)  {\n\n      let file =e.target.files[0]\n        const name = new Date().getTime() + file.name;\n  \n        console.log(name);\n        const storageRef = ref(storage, file.name)\n        const uploadTask = uploadBytesResumable(storageRef,file);\n  \n        uploadTask.on('state_changed', \n       (snapshot) => {\n     \n      const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n      console.log('Upload is ' + progress + '% done');\n      switch (snapshot.state) {\n        case 'paused':\n          console.log('Upload is paused');\n          break;\n        case 'running':\n          console.log('Upload is running');\n          break;\n      }\n    }, \n    (error) => {\n     \n    }, \n    () => {\n   \n      getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n        this.image = downloadURL\n        console.log('File available at', downloadURL);\n      });\n    }\n  );\n  \n  \n      }\n     \n     },\n    async mounted() {\n        let agent = await dataAgent.GetAgnetId(this.id)\n        console.log(agent.success);\n        if (agent.success) {\n            \n            this.nom = agent.success.nom,\n            this.prenom = agent.success.prenom,\n            this.email = agent.success.email,\n            this.numero = agent.success.numero,\n            this.password = agent.success.password\n        } else {\n            \n        }\n     },\n  \n  \n  }\n  </script>\n  \n  <style lang=\"css\" scoped>\n  \n  .modal-container {\n      height: 100vh;\n      width: 100%;\n      border: 1px solid red;\n  \n  }\n  \n  .modal-container .modal {\n     \n    max-width: 400px;\n    width: 98%;\n      margin: 0 10px;\n      padding: 20px;\n      border-radius: 5px;\n      text-align: center;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      box-shadow: 0 3px 10px rgb(0 0 0 / 20%);\n    background-color: white;\n  }\n  \n  input {\n      margin-bottom: 13px;\n      margin-right: 9px;\n      margin-left: 10px;\n      height: 2.5rem;\n      width: 20rem;\n      padding: 5px;\n      font-size: 18px;\n      outline: none;\n      border: 1px solid #ccc;\n      font-family: 'Roboto Serif',\n          serif;\n  }\n  \n  textarea{\n      margin-bottom: 10px;\n      padding: 5px;\n      outline: none;\n          font-size: 17px;\n       border: 1px solid #ccc;\n      font-family: 'Roboto Serif',\n              serif;\n  }\n  \n  input:focus ,textarea:focus {\n      border: 1px solid #2288ff;\n      outline-offset: 0px;\n      outline: none;\n  }\n  \n  form{\n      margin-top: 10px;\n  }\n  input[type=\"file\"] {\n      display: none;\n  }\n  \n  .custom-file-upload {\n      border: 1px solid #ccc;\n      display: inline-block;\n      padding: 15px 34px;\n      cursor: pointer;\n      margin-bottom: 9px;\n  }\n  button{\n          padding: 12px;\n          text-align: center;\n          border: none;\n          background-color: #2288ff;\n          color: white;\n          border-radius: 5px;\n          font-size: 23px;\n          font-family: 'Roboto Serif',\n              serif;\n  }\n  \n  button:hover {\n      background-color: white;\n      color: #2288ff;\n      border: 1px solid #2288ff;\n      cursor: pointer;\n  }\n  \n  </style>","import { render } from \"./ComponentUpdateAgent.vue?vue&type=template&id=c749dd88&scoped=true\"\nimport script from \"./ComponentUpdateAgent.vue?vue&type=script&lang=js\"\nexport * from \"./ComponentUpdateAgent.vue?vue&type=script&lang=js\"\n\nimport \"./ComponentUpdateAgent.vue?vue&type=style&index=0&id=c749dd88&lang=css&scoped=true\"\n\nimport exportComponent from \"/Users/imac-07/Documents/projet_immobilier/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c749dd88\"]])\n\nexport default __exports__","import { render } from \"./UpdateAgent.vue?vue&type=template&id=94a6617a\"\nimport script from \"./UpdateAgent.vue?vue&type=script&lang=js\"\nexport * from \"./UpdateAgent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/imac-07/Documents/projet_immobilier/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["dataAgent","into","console","log","Promise","async","addDoc","agentcollection","then","docRef","next","success","catch","error","erreur","array","getDocs","docs","length","forEach","doc","data","id","push","alert","getDoc","deleteDoc","resultat","image","update","setDoc","merge","_createBlock","_component_ComponentUpdateAgent","$props","class","_createElementVNode","action","_createElementBlock","_hoisted_3","_hoisted_5","type","placeholder","$data","$event","onChange","$options","_hoisted_9","onClick","name","props","nom","prenom","email","numero","password","methods","DataAgent","this","agent","$router","e","file","target","files","Date","getTime","storageRef","ref","storage","uploadTask","uploadBytesResumable","on","snapshot","progress","bytesTransferred","totalBytes","state","getDownloadURL","downloadURL","__exports__","components","ComponentUpdateAgent","render"],"sourceRoot":""}