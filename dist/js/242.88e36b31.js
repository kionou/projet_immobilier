"use strict";(self["webpackChunkprojet_immobilier"]=self["webpackChunkprojet_immobilier"]||[]).push([[242],{6242:function(e,r,s){s.r(r),s.d(r,{default:function(){return D}});var a=s(3396);function i(e,r,s,i,o,t){const n=(0,a.up)("Spinner"),l=(0,a.up)("ComponentNavbar"),u=(0,a.up)("ComponentLogin");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(n),(0,a.Wm)(l),(0,a.Wm)(u)])}var o=s(6826),t=s(7139),n=s(9242),l=s(9202);const u=e=>((0,a.dD)("data-v-d6124524"),e=e(),(0,a.Cn)(),e),d={class:"ImageHeader"},p={class:"container"},m=u((()=>(0,a._)("div",{class:"image"},[(0,a._)("img",{src:l,alt:""})],-1))),c=u((()=>(0,a._)("div",{class:"texte"},[(0,a._)("h2",null,"CONNEXION")],-1))),h={key:0},g={key:1},$={class:"texte"},v=(0,a.Uk)("Vous aviez pas de compte? ");function w(e,r,s,i,o,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",d,[(0,a._)("div",p,[m,c,(0,a._)("small",null,(0,t.zw)(o.erreur),1),(0,a._)("form",null,[o.v$.email.$error?((0,a.wg)(),(0,a.iD)("small",h,(0,t.zw)(o.v$.email.$errors[0].$message),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"email",name:"email",placeholder:"Adresse Email","onUpdate:modelValue":r[0]||(r[0]=e=>o.email=e)},null,512),[[n.nr,o.email]]),o.v$.password.$error?((0,a.wg)(),(0,a.iD)("small",g,(0,t.zw)(o.v$.password.$errors[0].$message),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"password",name:"password",placeholder:"Mot de passe","onUpdate:modelValue":r[1]||(r[1]=e=>o.password=e)},null,512),[[n.nr,o.password]]),(0,a._)("button",{onClick:r[2]||(r[2]=(0,n.iM)(((...e)=>l.submit&&l.submit(...e)),["prevent"]))},"Connecter")]),(0,a._)("div",$,[(0,a._)("p",null,[v,(0,a._)("span",{class:"sanp",onClick:r[3]||(r[3]=(...e)=>l.redirect&&l.redirect(...e))},"Cliquer ici")])])])])])}s(7658);var _=s(3053),f=s(4188),C=s(3079),b=s(125),k=s(1683),y={name:"Componentlogin",data(){return{email:"",password:"",v$:(0,_.ZP)(),erreur:"",connect:""}},validations:{email:{require:f.pF,ValidEmail:f.hN},password:{require:f.pF,lgmin:(0,f.Ge)(6),lgmax:(0,f.Cn)(12)}},methods:{MessageErreur(e){"auth/wrong-password"===e?(console.log("pazssword"),this.erreur="Mot de passe incorrect"):(console.log("email"),this.erreur="Email ou le Mot de passe est incorrect !")},redirect(){this.$router.push("/sign")},async submit(){if(console.log("rrr"),console.log("fsqjfblqkf",this.v$.$errors.length),this.v$.$touch(),0==this.v$.$errors.length){let e={email:this.email,password:this.password};console.log(e);let r=await C.Z.Userconnect(e);r.erreur&&this.MessageErreur(r.erreur),r.user?this.$router.push(`/profil/${r.user.user.uid}`):r.agent&&this.$router.push(`/agent/${r.agent.user.uid}`),r.admin&&this.$router.push("/dashbord")}}},created(){(0,k.Aj)(b.I8,(e=>{"admin"===e.displayName?this.$router.push("/dashbord"):"agent"===e.displayName&&this.$router.push(`/agent/${e.uid}`),"user"===e.displayName&&(this.$emit("msg",{connect:e}),this.$router.push(`/profil/${e.uid}`))}))}},N=s(89);const q=(0,N.Z)(y,[["render",w],["__scopeId","data-v-d6124524"]]);var E=q,M=s(44),Z={name:"LoginView",components:{ComponentNavbar:o.Z,ComponentLogin:E,Spinner:M.Z},data(){}};const z=(0,N.Z)(Z,[["render",i]]);var D=z}}]);
//# sourceMappingURL=242.88e36b31.js.map