"use strict";(self["webpackChunkprojet_immobilier"]=self["webpackChunkprojet_immobilier"]||[]).push([[909],{8418:function(e,n,t){var l,s=t(2482),o=(t(7658),t(125)),i=t(6035);const a=(l=class{},(0,s.Z)(l,"InsertionAgent",(e=>(console.log("sqfQSD",{...e}),new Promise((async n=>{await(0,i.ET)(o.mk,e).then((e=>{console.log("ss",e),n({success:e})})).catch((e=>{console.log("eee",e),n({erreur:e})}))}))))),(0,s.Z)(l,"AfficherAgent",(()=>{let e=[];return new Promise((async n=>{await(0,i.PL)(o.mk).then((t=>{t.docs.length>0?t.forEach((t=>{let l=t.data();l.id=t.id,e.push(l),console.log("ssss",e),n({success:e})})):n({alert:"Aucun Agent inscri pour le moment !"})})).catch((e=>{console.log("eee",e),n({erreur:e})}))}))})),(0,s.Z)(l,"GetAgnetId",(e=>new Promise((async n=>{const t=(0,i.JU)(o.mk,e);await(0,i.QT)(t).then((e=>{console.log("ss",e.data()),n({success:e.data()})})).catch((e=>{console.log("eee",e),n({erreur:e})}))})))),(0,s.Z)(l,"DeleteAgent",(e=>(console.log("sqfQSD",e),new Promise((async n=>{await(0,i.oe)((0,i.JU)(o.mk,e)).then((e=>{console.log("ss",e),n({success:"supprimer avec success"})})).catch((e=>{console.log("eee",e),n({erreur:e})}))}))))),(0,s.Z)(l,"UpdateAgent",((e,n)=>(console.log("sqfQSD",e,n.image),console.log("sqfQdgsgsgSD",n.image),new Promise((async t=>{if(""===n.image){console.log("besion de image");const l=(0,i.JU)(o.mk,e);await(0,i.QT)(l).then((l=>{let s=l.data().image;n.image=s;const a=(0,i.JU)(o.mk,e);(0,i.pl)(a,n,{merge:!0}),console.log((0,i.pl)(a,n,{merge:!0})),t({success:l.data()})})).catch((e=>{console.log("eee",e),t({erreur:e})}))}else{const l=(0,i.JU)(o.mk,e);(0,i.pl)(l,n,{merge:!0}).then((e=>{console.log("ss",e),t({success:"reussis"})})).catch((e=>{console.log("eee",e),t({erreur:e})}))}}))))),l);n["Z"]=a},8841:function(e,n,t){var l,s=t(2482),o=(t(7658),t(125)),i=t(6035);const a=(l=class{},(0,s.Z)(l,"InsertionUser",(e=>(console.log("sqfQSD",{...e}),new Promise((async n=>{await(0,i.ET)(o.K9,e).then((e=>{console.log("ss",e),n({resultat:e})})).catch((e=>{console.log("eee",e),n({erreur:e})}))}))))),(0,s.Z)(l,"AfficherUser",(()=>{let e=[];return new Promise((async n=>{await(0,i.PL)(o.K9).then((t=>{console.log("offf",t.docs),t.docs.length>0?t.forEach((t=>{let l=t.data();l.id=t.id,e.push(l),console.log("ssss",e),n({success:e})})):n({alert:"Aucun client n'a posté pour le moment !"})})).catch((e=>{console.log("eee",e),n({erreur:e})}))}))})),(0,s.Z)(l,"GetClientId",(e=>{let n=[];return console.log("sqfQSD",e),new Promise((async t=>{const l=(0,i.IO)(o.K9,(0,i.ar)("user_id","==",e));await(0,i.PL)(l).then((e=>{console.log("rrf",e),e.docs.length>0?e.forEach((e=>{let l=e.data();l.id=e.id,n.push(l),console.log("ssss",n),t({success:n})})):(console.log("df<df"),t({alert:"Aucun client n'a posté pour le moment !"}))})).catch((e=>{console.log("eee",e),t({erreur:e})}))}))})),l);n["Z"]=a},9432:function(e,n,t){t.d(n,{Z:function(){return g}});var l=t(3396),s=t(9242);const o=e=>((0,l.dD)("data-v-2cf2e9ce"),e=e(),(0,l.Cn)(),e),i={class:"container"},a=o((()=>(0,l._)("p",null,"vous voulez-vous supprimer ce agent ?",-1))),c={class:"boutton"};function r(e,n,t,o,r,d){return(0,l.wg)(),(0,l.iD)("div",null,[t.toggle?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"modal-container",id:"modal",onClick:n[2]||(n[2]=(0,s.iM)(((...e)=>t.agentDelete&&t.agentDelete(...e)),["self"]))},[(0,l._)("div",i,[a,(0,l._)("div",c,[(0,l._)("button",{onClick:n[0]||(n[0]=(...e)=>d.supp&&d.supp(...e))},"Oui"),(0,l._)("button",{onClick:n[1]||(n[1]=(...e)=>d.close&&d.close(...e))},"Non")])])])):(0,l.kq)("",!0)])}var d=t(8418),u={name:"DeleteBien",props:["toggle","agentDelete","Iddelete"],methods:{async supp(){let e=await d.Z.DeleteAgent(this.Iddelete);e.success&&location.reload()},close(){this.toggle=!1,console.log("ddd")}}},p=t(89);const m=(0,p.Z)(u,[["render",r],["__scopeId","data-v-2cf2e9ce"]]);var g=m},7794:function(e,n,t){t.d(n,{Z:function(){return x}});var l=t(3396),s=t(9242);const o=e=>((0,l.dD)("data-v-405fc256"),e=e(),(0,l.Cn)(),e),i={key:0,class:"loading"},a={key:1},c={class:"modal"},r=o((()=>(0,l._)("h1",null,"Enregistrement des biens immobiliers",-1))),d={class:"form_groupe"},u={class:"form_groupe"},p={class:"form_groupe"},m={class:"form_groupe"},g={class:"textArea"},h={class:"textArea"},_={class:"custom-file-upload"},v=o((()=>(0,l._)("i",{class:"fa fa-cloud-upload"},null,-1))),b=(0,l.Uk)(" Téléchargement personnalisé "),f={class:"boutton"},w=["disabled"];function y(e,n,t,o,y,D){const k=(0,l.up)("ComponentLoading");return(0,l.wg)(),(0,l.iD)("div",null,[y.loading?((0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(k)])):((0,l.wg)(),(0,l.iD)("div",a,[t.revele?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"modal-container",id:"modal",onClick:n[13]||(n[13]=(0,s.iM)(((...e)=>t.submit&&t.submit(...e)),["self"]))},[(0,l._)("div",c,[r,(0,l._)("form",null,[(0,l._)("div",d,[(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Non du bien","onUpdate:modelValue":n[0]||(n[0]=e=>y.nom_bien=e)},null,512),[[s.nr,y.nom_bien]]),(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Prix du bien","onUpdate:modelValue":n[1]||(n[1]=e=>y.prix=e)},null,512),[[s.nr,y.prix]])]),(0,l._)("div",u,[(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Nombre de pieces","onUpdate:modelValue":n[2]||(n[2]=e=>y.piece=e)},null,512),[[s.nr,y.piece]]),(0,l.wy)((0,l._)("input",{type:"text",placeholder:"superficie","onUpdate:modelValue":n[3]||(n[3]=e=>y.superficie=e)},null,512),[[s.nr,y.superficie]])]),(0,l._)("div",p,[(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Nombre de chambre","onUpdate:modelValue":n[4]||(n[4]=e=>y.chambre=e)},null,512),[[s.nr,y.chambre]]),(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Nombre de douche","onUpdate:modelValue":n[5]||(n[5]=e=>y.douche=e)},null,512),[[s.nr,y.douche]])]),(0,l._)("div",m,[(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Ville ","onUpdate:modelValue":n[6]||(n[6]=e=>y.ville=e)},null,512),[[s.nr,y.ville]]),(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Commune","onUpdate:modelValue":n[7]||(n[7]=e=>y.commune=e)},null,512),[[s.nr,y.commune]])]),(0,l._)("div",g,[(0,l.wy)((0,l._)("textarea",{name:"",id:"",cols:"71",rows:"4",placeholder:"Description","onUpdate:modelValue":n[8]||(n[8]=e=>y.description=e)},null,512),[[s.nr,y.description]])]),(0,l._)("div",h,[(0,l.wy)((0,l._)("textarea",{name:"",id:"",cols:"71",rows:"4",placeholder:"service","onUpdate:modelValue":n[9]||(n[9]=e=>y.service=e)},null,512),[[s.nr,y.service]])]),(0,l.wy)((0,l._)("input",{type:"hidden","onUpdate:modelValue":n[10]||(n[10]=n=>e.user_id=n)},null,512),[[s.nr,e.user_id]]),(0,l._)("label",_,[(0,l._)("input",{type:"file",onChange:n[11]||(n[11]=(...e)=>D.upload&&D.upload(...e)),multiple:""},null,32),v,b]),(0,l._)("div",f,[(0,l._)("button",{disabled:y.isActive,onClick:n[12]||(n[12]=(0,s.iM)(((...e)=>D.valider&&D.valider(...e)),["prevent"]))},"Ajouter un bien",8,w)])])])])):(0,l.kq)("",!0)]))])}t(7658);var D=t(1602),k=t(125),C=t(1992),A=t(8712),I={name:"ModalBien",props:["revele","submit","agentId"],components:{ComponentLoading:A.Z},data(){return{isActive:!0,nom_bien:"",prix:"",piece:"",superficie:"",chambre:"",douche:"",ville:"",commune:"",description:"",service:"",image:"",loading:!1}},methods:{async valider(){this.loading=!0;let e={nom_bien:this.nom_bien,prix:this.prix,piece:this.piece,superficie:this.superficie,chambre:this.chambre,douche:this.douche,ville:this.ville,commune:this.commune,description:this.description,service:this.service,images:this.image,user_id:this.agentId,status:!1};console.log(e);let n=await D.Z.InsertionBien(e);n.success?(this.$router.go(),this.loading=!1):console.log("error 404")},async upload(e){const n=[];Object.values(e.target.files).forEach((e=>{console.log(e.name);const t=e,l={contentType:"image/jpeg"},s=(0,C.iH)(k.tO,"temp/"+t.name);n.push((0,C.KV)(s,t,l).then((e=>(0,C.Jt)(e.ref))))}));const t=await Promise.all(n);t&&(this.isActive=!1),this.image=t,console.log(this.image)}}},Z=t(89);const U=(0,Z.Z)(I,[["render",y],["__scopeId","data-v-405fc256"]]);var x=U},8909:function(e,n,t){t.r(n),t.d(n,{default:function(){return Qe}});var l=t(3396);function s(e,n,t,s,o,i){const a=(0,l.up)("ComponentAgent");return(0,l.wg)(),(0,l.j4)(a,{id:t.id},null,8,["id"])}var o=t(9202);const i=e=>((0,l.dD)("data-v-6ad0039b"),e=e(),(0,l.Cn)(),e),a={class:"container"},c={class:"menu"},r=i((()=>(0,l._)("div",{class:"image"},[(0,l._)("img",{src:o,alt:""})],-1))),d={class:"content"},u={class:"search"},p=i((()=>(0,l._)("form",{action:""},[(0,l._)("input",{type:"text",placeholder:"Recherchez"})],-1))),m={class:"btn"};function g(e,n,t,s,o,i){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",a,[(0,l._)("div",c,[r,(0,l._)("nav",null,[(0,l._)("p",{onClick:n[0]||(n[0]=e=>o.component="bien")},"Liste des Biens"),(0,l._)("p",{onClick:n[1]||(n[1]=e=>o.component="profil")},"Mon profil"),(0,l._)("p",{onClick:n[2]||(n[2]=e=>o.component="client")},"Liste des clients")])]),(0,l._)("div",d,[(0,l._)("div",u,[p,(0,l._)("div",m,[(0,l._)("p",{onClick:n[3]||(n[3]=(...e)=>i.logout&&i.logout(...e))},"Deconnecter")])]),((0,l.wg)(),(0,l.j4)((0,l.LL)(o.component),{id:t.id},null,8,["id"]))])])])}t(7658);var h=t(7139);const _=e=>((0,l.dD)("data-v-585ad450"),e=e(),(0,l.Cn)(),e),v={key:0,class:"loading"},b={key:1,class:"contenu1"},f=_((()=>(0,l._)("p",null,"Ajouter un Bien",-1))),w=[f],y={class:"contenaire_card"},D={key:0,class:"messages"},k={class:"message"},C=_((()=>(0,l._)("p",null,"Ajouter un Bien",-1))),A=[C],I={class:"card-image"},Z=["src"],U={class:"card-body"},x={class:"body-text"},z={class:"body-text"},P={class:"body-text"},L={class:"icon"},V={class:"icon-content"},$=_((()=>(0,l._)("i",{class:"fas fa-door-closed"},null,-1))),j={class:"icon-content"},B=_((()=>(0,l._)("i",{class:"fas fa-bath"},null,-1))),N=_((()=>(0,l._)("div",{class:""},[(0,l._)("div",{id:"trait_dessus"})],-1))),q={class:""},E={class:"btn"},M={class:"btncard"},Q=["onClick"];function T(e,n,t,s,o,i){const a=(0,l.up)("ModalBien"),c=(0,l.up)("ComponentLoading");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(a,{revele:o.revele,submit:i.submit,agentId:o.agentId},null,8,["revele","submit","agentId"]),o.loading?((0,l.wg)(),(0,l.iD)("div",v,[(0,l.Wm)(c)])):((0,l.wg)(),(0,l.iD)("div",b,[(0,l._)("div",{class:"boutton",onClick:n[0]||(n[0]=(...e)=>i.submit&&i.submit(...e))},w),(0,l._)("div",y,[o.alert?((0,l.wg)(),(0,l.iD)("div",D,[(0,l._)("div",k,[(0,l._)("span",null,(0,h.zw)(o.alert),1),(0,l._)("div",{class:"boutton",onClick:n[1]||(n[1]=(...e)=>i.submit&&i.submit(...e))},A)])])):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(o.biens,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"content-card",key:e.id},[(0,l._)("div",I,[(0,l._)("img",{src:e.images[0],alt:""},null,8,Z)]),(0,l._)("div",U,[(0,l._)("div",x,[(0,l._)("h3",null,(0,h.zw)(e.ville)+" - "+(0,h.zw)(e.commune),1)]),(0,l._)("div",z,[(0,l._)("p",null,(0,h.zw)(e.nom_bien),1)]),(0,l._)("div",P,[(0,l._)("p",null,(0,h.zw)(e.piece)+"pièces/"+(0,h.zw)(e.superficie)+" m2",1)]),(0,l._)("div",L,[(0,l._)("div",V,[$,(0,l._)("samp",null,(0,h.zw)(e.chambre)+" chambres",1)]),(0,l._)("div",j,[B,(0,l._)("samp",null,(0,h.zw)(e.douche)+" douches",1)])]),N,(0,l._)("div",q,[(0,l._)("p",null,"loyer "+(0,h.zw)(e.prix)+"F CFA/mois",1)]),(0,l._)("div",E,[(0,l._)("button",M,[(0,l._)("p",{onClick:n=>i.redirect(e.id)},"Détail",8,Q)])])])])))),128))])]))])}var S=t(1602),H=t(7794),J=t(8712),K={name:"ComponentBien",props:["agentId","id"],components:{ModalBien:H.Z,ComponentLoading:J.Z},data(){return{revele:!1,agentId:"",biens:"",alert:"",loading:!0}},methods:{submit(){this.revele=!this.revele,this.agentId=this.id},redirect(e){this.$router.push(`/agent/bien/detail/${e}`)}},async mounted(){let e=await S.Z.GetBienUser(this.id);console.log(e),e.success?(console.log(e.success),this.biens=e.success,this.loading=!1):e.alert?(this.alert=e.alert,this.loading=!1):console.log("erreur404")}},G=t(89);const W=(0,G.Z)(K,[["render",T],["__scopeId","data-v-585ad450"]]);var F=W;const O=e=>((0,l.dD)("data-v-1480fa6c"),e=e(),(0,l.Cn)(),e),Y={key:0,class:"loading"},R={key:1,class:"container"},X={class:"content"},ee={class:"image"},ne=["src"],te={class:"info"},le=O((()=>(0,l._)("h3",null,"Informations",-1))),se={class:"tableau"},oe=O((()=>(0,l._)("div",{class:"tableau-heaeder"},[(0,l._)("p",null,"Nom :"),(0,l._)("p",null,"Prenom:"),(0,l._)("p",null," Email :"),(0,l._)("p",null,"Numéro :")],-1))),ie={class:"tableau-content"},ae={class:"boutton"};function ce(e,n,t,s,o,i){const a=(0,l.up)("DeleteAgent"),c=(0,l.up)("ComponentLoading");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(a,{toggle:o.toggle,agentDelete:i.agentDelete,Iddelete:o.Iddelete},null,8,["toggle","agentDelete","Iddelete"]),o.loading?((0,l.wg)(),(0,l.iD)("div",Y,[(0,l.Wm)(c)])):((0,l.wg)(),(0,l.iD)("div",R,[(0,l._)("div",X,[(0,l._)("div",ee,[(0,l._)("img",{src:o.agent.image,alt:""},null,8,ne)]),(0,l._)("div",te,[le,(0,l._)("div",se,[oe,(0,l._)("div",ie,[(0,l._)("p",null,(0,h.zw)(o.agent.nom),1),(0,l._)("p",null,(0,h.zw)(o.agent.prenom),1),(0,l._)("p",null,(0,h.zw)(o.agent.email),1),(0,l._)("p",null,(0,h.zw)(o.agent.numero),1)])]),(0,l._)("div",ae,[(0,l._)("button",{class:"update",onClick:n[0]||(n[0]=e=>i.update())},"Modifier"),(0,l._)("button",{class:"delete",onClick:n[1]||(n[1]=(...e)=>i.agentDelete&&i.agentDelete(...e))},"Supprimer")])])])]))],64)}var re=t(8418),de=t(9432),ue={name:"ComponentProfil",props:["id"],components:{DeleteAgent:de.Z,ComponentLoading:J.Z},data(){return{agent:"",Iddelete:"",toggle:!1,loading:!0}},methods:{update(){this.$router.push(`/update/${this.id}`)},agentDelete(){console.log(this.id),this.toggle=!this.toggle,this.Iddelete=this.id}},async mounted(){let e=await re.Z.GetAgnetId(this.id);console.log(e.success),e.success&&(this.agent=e.success,this.loading=!1)}};const pe=(0,G.Z)(ue,[["render",ce],["__scopeId","data-v-1480fa6c"]]);var me=pe,ge=t(125),he=t(1683),_e=t(3079);const ve=e=>((0,l.dD)("data-v-9feb6798"),e=e(),(0,l.Cn)(),e),be={class:"contenu"},fe={class:"contenu_card"},we={class:"carnet",ref:"scroll"},ye={key:0,class:"alert"},De={key:1,class:"table-container"},ke=ve((()=>(0,l._)("h1",{class:"heading"}," La liste des clients ",-1))),Ce={class:"table"},Ae=ve((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Nom du client"),(0,l._)("th",null,"Adresse Email"),(0,l._)("th",null,"Numero"),(0,l._)("th",null,"Voir le bien")])],-1))),Ie={"data-label":"date de l'acte"},Ze={"data-label":"Vaccin utilisé"},Ue={"data-label":"Protège contre"},xe={class:"doctor"},ze=["onClick"];function Pe(e,n,t,s,o,i){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",be,[(0,l._)("div",fe,[(0,l._)("div",we,[o.alert?((0,l.wg)(),(0,l.iD)("div",ye,(0,h.zw)(o.alert),1)):((0,l.wg)(),(0,l.iD)("div",De,[ke,(0,l._)("table",Ce,[Ae,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.users,(e=>((0,l.wg)(),(0,l.iD)("tbody",{key:e.id},[(0,l._)("tr",null,[(0,l._)("td",Ie,[(0,l._)("p",null,(0,h.zw)(e.nom),1)]),(0,l._)("td",Ze,(0,h.zw)(e.email)+"FCFA ",1),(0,l._)("td",Ue,(0,h.zw)(e.numero),1),(0,l._)("td",xe,[(0,l._)("i",{class:"fa-solid fa-eye",onClick:n=>i.redirect(e.bien_id)},null,8,ze)])])])))),128))])]))],512)])])])}var Le=t(8841),Ve={name:"ComponentProfil",props:["id"],component:{ComponentLoading:J.Z},data(){return{revele:!1,component:"",users:"",alert:"",loading:!0}},methods:{redirect(e){this.$router.push(`/agent/bien/detail/${e}`),console.log(e)}},async mounted(){this.$refs.scroll.scrollTop=this.$refs.scroll.scrollHeight,this.$refs.scroll.scrollTo(0,document.body.scrollHeight);let e=await Le.Z.GetClientId(this.id);e.success?this.users=e.success:e.alert?this.alert=e.alert:console.log("eeeq")}};const $e=(0,G.Z)(Ve,[["render",Pe],["__scopeId","data-v-9feb6798"]]);var je=$e,Be={name:"ComponentAgent",props:["id"],components:{bien:F,profil:me,client:je},data(){return{component:"bien",idUser:""}},methods:{async logout(){await _e.Z.LogoutUser(),this.$router.push("/login")}},mounted(){},created(){(0,he.Aj)(ge.I8,(e=>{null==e&&"agent"!=e.displayName&&(this.idUser=e.uid,this.$router.push("/login"))}))}};const Ne=(0,G.Z)(Be,[["render",g],["__scopeId","data-v-6ad0039b"]]);var qe=Ne,Ee={name:"AgentView",props:["id"],components:{ComponentAgent:qe}};const Me=(0,G.Z)(Ee,[["render",s]]);var Qe=Me}}]);
//# sourceMappingURL=909.2e7ca403.js.map