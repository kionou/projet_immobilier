"use strict";(self["webpackChunkprojet_immobilier"]=self["webpackChunkprojet_immobilier"]||[]).push([[228],{8228:function(e,r,s){s.r(r),s.d(r,{default:function(){return M}});var o=s(3396);function a(e,r,s,a,i,n){const t=(0,o.up)("Spinner"),l=(0,o.up)("ComponentNavbar"),u=(0,o.up)("ComponentLogin");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(t),(0,o.Wm)(l),(0,o.Wm)(u)])}var i=s(9260),n=s(7139),t=s(9242),l=s(9202);const u=e=>((0,o.dD)("data-v-57c165c0"),e=e(),(0,o.Cn)(),e),p={class:"ImageHeader"},d={class:"container"},m=u((()=>(0,o._)("div",{class:"image"},[(0,o._)("img",{src:l,alt:""})],-1))),c=u((()=>(0,o._)("div",{class:"texte"},[(0,o._)("h2",null,"CONNEXION")],-1))),h={key:0},g={key:1},v={class:"texte"},w=(0,o.Uk)("Vous aviez pas de compte? ");function $(e,r,s,a,i,l){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",p,[(0,o._)("div",d,[m,c,(0,o._)("small",null,(0,n.zw)(i.erreur),1),(0,o._)("form",null,[i.v$.email.$error?((0,o.wg)(),(0,o.iD)("small",h,(0,n.zw)(i.v$.email.$errors[0].$message),1)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{type:"email",name:"email",placeholder:"Adresse Email","onUpdate:modelValue":r[0]||(r[0]=e=>i.email=e)},null,512),[[t.nr,i.email]]),i.v$.password.$error?((0,o.wg)(),(0,o.iD)("small",g,(0,n.zw)(i.v$.password.$errors[0].$message),1)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{type:"password",name:"password",placeholder:"Mot de passe","onUpdate:modelValue":r[1]||(r[1]=e=>i.password=e)},null,512),[[t.nr,i.password]]),(0,o._)("button",{onClick:r[2]||(r[2]=(0,t.iM)(((...e)=>l.submit&&l.submit(...e)),["prevent"]))},"Connecter")]),(0,o._)("div",v,[(0,o._)("p",null,[w,(0,o._)("span",{class:"sanp",onClick:r[3]||(r[3]=(...e)=>l.redirect&&l.redirect(...e))},"Cliquer ici")])])])])])}s(7658);var _=s(3053),f=s(4188),C=s(3079),b=s(125),k=s(1683),y={name:"Componentlogin",data(){return{email:"",password:"",v$:(0,_.ZP)(),erreur:""}},validations:{email:{require:f.pF,ValidEmail:f.hN},password:{require:f.pF,lgmin:(0,f.Ge)(6),lgmax:(0,f.Cn)(12)}},methods:{MessageErreur(e){"auth/wrong-password"===e?(console.log("pazssword"),this.erreur="Mot de passe incorrect"):(console.log("email"),this.erreur="Email ou le Mot de passe est incorrect !")},redirect(){this.$router.push("/sign")},async submit(){if(console.log("rrr"),console.log("fsqjfblqkf",this.v$.$errors.length),this.v$.$touch(),0==this.v$.$errors.length){let e={email:this.email,password:this.password};console.log(e);let r=await C.Z.Userconnect(e);r.user?this.$router.push("/profil"):r.agent?(console.log(r.agent.user.uid),this.$router.push(`/agent/${r.agent.user.uid}`)):this.$router.push("/dashbord")}}},created(){(0,k.Aj)(b.I8,(e=>{"admin"==e.displayName?this.$router.push("/dashbord"):"agent"==e.displayName?this.$router.push(`/agent/${e.uid}`):this.$router.push("/profil")}))}},N=s(89);const q=(0,N.Z)(y,[["render",$],["__scopeId","data-v-57c165c0"]]);var Z=q,z=s(1040),D={name:"LoginView",components:{ComponentNavbar:i.Z,ComponentLogin:Z,Spinner:z.Z}};const E=(0,N.Z)(D,[["render",a]]);var M=E}}]);
//# sourceMappingURL=228.a3a8a1fb.js.map