"use strict";(self["webpackChunkprojet_immobilier"]=self["webpackChunkprojet_immobilier"]||[]).push([[858],{8418:function(e,s,o){var n,a=o(2482),l=(o(7658),o(125)),t=o(6035);const c=(n=class{},(0,a.Z)(n,"InsertionAgent",(e=>(console.log("sqfQSD",{...e}),new Promise((async s=>{await(0,t.ET)(l.mk,e).then((e=>{console.log("ss",e),s({success:e})})).catch((e=>{console.log("eee",e),s({erreur:e})}))}))))),(0,a.Z)(n,"AfficherAgent",(()=>{let e=[];return new Promise((async s=>{await(0,t.PL)(l.mk).then((o=>{o.docs.length>0?o.forEach((o=>{let n=o.data();n.id=o.id,e.push(n),console.log("ssss",e),s({success:e})})):s({alert:"Aucun Agent inscri pour le moment !"})})).catch((e=>{console.log("eee",e),s({erreur:e})}))}))})),(0,a.Z)(n,"GetAgnetId",(e=>new Promise((async s=>{const o=(0,t.JU)(l.mk,e);await(0,t.QT)(o).then((e=>{console.log("ss",e.data()),s({success:e.data()})})).catch((e=>{console.log("eee",e),s({erreur:e})}))})))),(0,a.Z)(n,"DeleteAgent",(e=>(console.log("sqfQSD",e),new Promise((async s=>{await(0,t.oe)((0,t.JU)(l.mk,e)).then((e=>{console.log("ss",e),s({success:"supprimer avec success"})})).catch((e=>{console.log("eee",e),s({erreur:e})}))}))))),(0,a.Z)(n,"UpdateAgent",((e,s)=>(console.log("sqfQSD",e,s.image),console.log("sqfQdgsgsgSD",s.image),new Promise((async o=>{if(""===s.image){console.log("besion de image");const n=(0,t.JU)(l.mk,e);await(0,t.QT)(n).then((n=>{let a=n.data().image;s.image=a;const c=(0,t.JU)(l.mk,e);(0,t.pl)(c,s,{merge:!0}),console.log((0,t.pl)(c,s,{merge:!0})),o({success:n.data()})})).catch((e=>{console.log("eee",e),o({erreur:e})}))}else{const n=(0,t.JU)(l.mk,e);(0,t.pl)(n,s,{merge:!0}).then((e=>{console.log("ss",e),o({success:"reussis"})})).catch((e=>{console.log("eee",e),o({erreur:e})}))}}))))),n);s["Z"]=c},3858:function(e,s,o){o.r(s),o.d(s,{default:function(){return P}});var n=o(3396);function a(e,s,o,a,l,t){const c=(0,n.up)("ComponentUpdateAgent");return(0,n.wg)(),(0,n.j4)(c,{id:o.id},null,8,["id"])}var l=o(9242);const t=e=>((0,n.dD)("data-v-c749dd88"),e=e(),(0,n.Cn)(),e),c={class:"modal-container"},r={class:"modal"},i=t((()=>(0,n._)("h1",null,"Modifier ",-1))),d={action:""},u=t((()=>(0,n._)("p",null,"dfs",-1))),m={class:"form_groupe"},p={class:"form_groupe"},g={class:"custom-file-upload"},h=t((()=>(0,n._)("i",{class:"fa fa-cloud-upload"},null,-1))),w=(0,n.Uk)(" Téléchargement personnalisé "),f={class:"boutton"};function _(e,s,o,a,t,_){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",c,[(0,n._)("div",r,[i,(0,n._)("form",d,[u,(0,n.wy)((0,n._)("input",{type:"text",placeholder:"Non","onUpdate:modelValue":s[0]||(s[0]=e=>t.nom=e)},null,512),[[l.nr,t.nom]]),(0,n.wy)((0,n._)("input",{type:"text",placeholder:"Prenom","onUpdate:modelValue":s[1]||(s[1]=e=>t.prenom=e)},null,512),[[l.nr,t.prenom]]),(0,n._)("div",m,[(0,n.wy)((0,n._)("input",{type:"email",placeholder:"Adresse Email","onUpdate:modelValue":s[2]||(s[2]=e=>t.email=e)},null,512),[[l.nr,t.email]]),(0,n.wy)((0,n._)("input",{type:"tel",placeholder:"Numero","onUpdate:modelValue":s[3]||(s[3]=e=>t.numero=e)},null,512),[[l.nr,t.numero]])]),(0,n._)("div",p,[(0,n.wy)((0,n._)("input",{type:"password",placeholder:"Mot de passe","onUpdate:modelValue":s[4]||(s[4]=e=>t.password=e)},null,512),[[l.nr,t.password]])]),(0,n._)("label",g,[(0,n._)("input",{type:"file",onChange:s[5]||(s[5]=(...e)=>_.upload&&_.upload(...e))},null,32),h,w]),(0,n._)("div",f,[(0,n._)("button",{onClick:s[6]||(s[6]=(0,l.iM)(((...e)=>_.valider&&_.valider(...e)),["prevent"]))},"Modifier")])])])])])}o(7658);var y=o(8418),v=o(125),U=o(1992),k={name:"UpdateBien",props:["id"],data(){return{nom:"",prenom:"",email:"",numero:"",password:"",image:""}},methods:{async valider(){let e={nom:this.nom,prenom:this.prenom,email:this.email,numero:this.numero,password:this.password,image:this.image};console.log(e);let s=await y.Z.UpdateAgent(this.id,e);s.success?this.$router.push("/"):console.log("error 404")},async upload(e){let s=e.target.files[0];const o=(new Date).getTime()+s.name;console.log(o);const n=(0,U.iH)(v.tO,s.name),a=(0,U.B0)(n,s);a.on("state_changed",(e=>{const s=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+s+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break}}),(e=>{}),(()=>{(0,U.Jt)(a.snapshot.ref).then((e=>{this.image=e,console.log("File available at",e)}))}))}},async mounted(){let e=await y.Z.GetAgnetId(this.id);console.log(e.success),e.success&&(this.nom=e.success.nom,this.prenom=e.success.prenom,this.email=e.success.email,this.numero=e.success.numero,this.password=e.success.password)}},A=o(89);const b=(0,A.Z)(k,[["render",_],["__scopeId","data-v-c749dd88"]]);var Z=b,D={props:["id"],name:"UpdateBien",components:{ComponentUpdateAgent:Z}};const C=(0,A.Z)(D,[["render",a]]);var P=C}}]);
//# sourceMappingURL=858.391f7240.js.map